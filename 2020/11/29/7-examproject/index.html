<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="7.examProject, HTML,CSS,JavaScript,JQuery,React,Vue.js">
    <meta name="description" content="С����·��">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>7.examProject | No weal without woe!</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">No weal without woe!</span>
                </a>
            </div>
            

<!-- 支持二级菜单特性  -->
<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right nav-menu">
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/" class="waves-effect waves-light">
              
                <i class="fa fas fa-home"></i>
              
              <span>首页</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/tags" class="waves-effect waves-light">
              
                <i class="fa fas fa-tags"></i>
              
              <span>标签</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories" class="waves-effect waves-light">
                
                  <i class="fa fas fa-bookmark"></i>
                
                <span>分类</span>
                <i class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/Java%E5%9F%BA%E7%A1%80" >
                    
                    <span>Java基础</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93" >
                    
                    <span>数据库基础</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/SSM%E6%A1%86%E6%9E%B6" >
                    
                    <span>SSM框架</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BB%84%E4%BB%B6" >
                    
                    <span>分布式组件</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8E%E7%BD%91%E7%BB%9C" >
                    
                    <span>服务器网络相关</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/archives" class="waves-effect waves-light">
              
                <i class="fa fas fa-archive"></i>
              
              <span>归档</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/about" class="waves-effect waves-light">
              
                <i class="fa fas fa-user-circle"></i>
              
              <span>关于</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/contact" class="waves-effect waves-light">
              
                <i class="fa fas fa-comments"></i>
              
              <span>留言板</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/friends" class="waves-effect waves-light">
              
                <i class="fa fas fa-address-book"></i>
              
              <span>友情链接</span>
            </a>

            
      </li>
    

    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">No weal without woe!</div>
        <div class="logo-desc">
            
            С����·��
            
        </div>
    </div>

    

    <!-- 支持二级菜单特性 -->
	<ul class="menu-list mobile-menu-list">
		
			<li class="m-nav-item">
					
						<a href="/" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-home"></i>
							
							首页
						</a>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="/tags" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-tags"></i>
							
							标签
						</a>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="javascript:;">
								
								<i class="fa fa-fw fas fa-bookmark"></i>
								
								分类
								<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
						</a>
					<ul>
					
						<li> 
						<a href="/categories/Java%E5%9F%BA%E7%A1%80" >
							
						<span>Java基础</span>
						</a>
						</li>
					
						<li> 
						<a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93" >
							
						<span>数据库基础</span>
						</a>
						</li>
					
						<li> 
						<a href="/categories/SSM%E6%A1%86%E6%9E%B6" >
							
						<span>SSM框架</span>
						</a>
						</li>
					
						<li> 
						<a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BB%84%E4%BB%B6" >
							
						<span>分布式组件</span>
						</a>
						</li>
					
						<li> 
						<a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8E%E7%BD%91%E7%BB%9C" >
							
						<span>服务器网络相关</span>
						</a>
						</li>
					 
					</ul>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="/archives" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-archive"></i>
							
							归档
						</a>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="/about" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-user-circle"></i>
							
							关于
						</a>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="/contact" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-comments"></i>
							
							留言板
						</a>
				
				</li>
			
			<li class="m-nav-item">
					
						<a href="/friends" class="waves-effect waves-light">
							
							<i class="fa fa-fw fas fa-address-book"></i>
							
							友情链接
						</a>
				
				</li>
			
	
			
	</ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">7.examProject</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" class="post-category">
                                项目笔记
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-29
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="慕课Java笔记"><a href="#慕课Java笔记" class="headerlink" title="慕课Java笔记"></a>慕课Java笔记</h1><ul>
<li><p>笔记架构图</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E7%AC%94%E8%AE%B0%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="笔记架构图"></p>
</li>
</ul>
<h2 id="1-单体项目开发部署"><a href="#1-单体项目开发部署" class="headerlink" title="1. 单体项目开发部署"></a>1. 单体项目开发部署</h2><h3 id="1-1-项目基础搭建"><a href="#1-1-项目基础搭建" class="headerlink" title="1.1 项目基础搭建"></a>1.1 项目基础搭建</h3><h4 id="1-1-1-大型互联网系统架构演变历程"><a href="#1-1-1-大型互联网系统架构演变历程" class="headerlink" title="1.1.1 大型互联网系统架构演变历程"></a>1.1.1 大型互联网系统架构演变历程</h4><h4 id="1-1-2-大型网站的九大特点"><a href="#1-1-2-大型网站的九大特点" class="headerlink" title="1.1.2 大型网站的九大特点"></a>1.1.2 大型网站的九大特点</h4><ol>
<li>高并发 </li>
<li>高可用 </li>
<li>大数据 </li>
<li>迭代周期短 </li>
<li>用户量庞大 </li>
<li>可持续发展 </li>
<li>安全级别高 </li>
<li>可弹性、可伸缩</li>
<li>吞吐量高，响应速度快</li>
</ol>
<h4 id="1-1-3-大型网站演变进程"><a href="#1-1-3-大型网站演变进程" class="headerlink" title="1.1.3 大型网站演变进程"></a>1.1.3 大型网站演变进程</h4><ol>
<li><p>基础形式</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%9F%BA%E7%A1%80%E5%BD%A2%E5%BC%8F.png" alt="基础形式"></p>
</li>
<li><p>进阶形式</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E8%BF%9B%E9%98%B6%E5%BD%A2%E5%BC%8F.png" alt="进阶形式"></p>
</li>
<li><p>单体架构</p>
<ol>
<li><p>特点：多个资源部署在同一台服务器上</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%8D%95%E4%BD%93%E6%9E%B6%E6%9E%84.png" alt="单体架构"></p>
<ol>
<li>优点<ol>
<li>部署方便，开发周期短</li>
</ol>
</li>
<li>缺点<ol>
<li>容灾性低</li>
<li>并发数少</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="1-1-4-负载均衡"><a href="#1-1-4-负载均衡" class="headerlink" title="1.1.4 负载均衡"></a>1.1.4 负载均衡</h4><ol>
<li><p>数据的主从分离架构</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%88%86%E7%A6%BB%E6%9E%B6%E6%9E%84.png" alt="数据的主从分离架构"></p>
</li>
<li><p>基于主从复制模式的集群架构</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%9B%86%E7%BE%A4%E6%9E%B6%E6%9E%84.png" alt="主从复制模式的集群架构"></p>
</li>
<li><p>分布式文件系统和数据库</p>
<ol>
<li>文件服务器(集群—分布式)<pre><code>1. 特点：多个服务器之间联合存储文件数据</code></pre>
</li>
<li>数据库(集群—分布式)<ol>
<li>特点：多个服务器之间联合存储用户数据</li>
<li>要注意使用全局唯一的主键，分布式主键</li>
<li>工商银行建议数据量达到500万的时候进行分表，最差建议700-800万条进行分表操作</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="1-1-5-Java架构师需要具备的技术栈与能力"><a href="#1-1-5-Java架构师需要具备的技术栈与能力" class="headerlink" title="1.1.5 Java架构师需要具备的技术栈与能力"></a>1.1.5 Java架构师需要具备的技术栈与能力</h4><ol>
<li>前端技术<ol>
<li>H5，C3，JS，TS，小程序，React</li>
</ol>
</li>
<li>后端技术<ol>
<li>nginx代理服务器</li>
<li>微服务(模块服务集群)</li>
<li>消息队列</li>
<li>分布式文件系统</li>
<li>Redis缓存集群</li>
<li>海量数据搜索</li>
<li>日志收集</li>
</ol>
</li>
</ol>
<h4 id="1-1-6-项目演示与单体架构技术选型"><a href="#1-1-6-项目演示与单体架构技术选型" class="headerlink" title="1.1.6  项目演示与单体架构技术选型"></a>1.1.6  项目演示与单体架构技术选型</h4><ol>
<li>前端技术<ol>
<li>javascript，h5，css3，jquery，vue</li>
</ol>
</li>
<li>后端技术<ol>
<li>SpringMVC是框架，SpringBoot是工具</li>
<li>SpringBoot2.x实现单体架构设计与准备</li>
<li>SpringBoot是零配置(yml)，集成了Tomcat等多样化的中间件</li>
</ol>
</li>
</ol>
<h4 id="1-1-7-前后端分离开发模式与项目分层设计原则"><a href="#1-1-7-前后端分离开发模式与项目分层设计原则" class="headerlink" title="1.1.7  前后端分离开发模式与项目分层设计原则"></a>1.1.7  前后端分离开发模式与项目分层设计原则</h4><ol>
<li><p>MVVM模式</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/MVVM%E6%A8%A1%E5%BC%8F.png" alt="MVVM模式"></p>
</li>
<li><p>聚合工程构建与SpringBoot2.1.x结合</p>
<ol>
<li><p>Maven管理示意图</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/Maven%E7%AE%A1%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="Maven管理示意图"></p>
<ol>
<li>聚合工程分为顶级项目(顶级工程，父工程)与子工程，两者之间为继承关系，子工程在maven里称之为模块，模块之间是平级的，可以相互依赖。</li>
<li>子模块可以使用顶级工程里所有的资源(依赖)，子模块之间如果要使用相互资源，必须构建依赖(构建关系)</li>
<li>一个顶级工程是可以由多个不同的子工程组合而成</li>
</ol>
</li>
</ol>
</li>
<li><p>基于PDMan工具为数据库建模</p>
<ol>
<li><p>注意设置为增量模式，全量模式为先删除数据后在新建表创建字段</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/PDMan%E5%B7%A5%E5%85%B7.png" alt="PDMan工具"></p>
</li>
</ol>
</li>
<li><p>数据库物理外键</p>
<ol>
<li>优点<ol>
<li>数据库的数据完整性</li>
<li>强调数据的强一致性</li>
</ol>
</li>
<li>缺点<ol>
<li>降低数据库性能</li>
<li>不能进行热更新</li>
<li>不方便分库分表</li>
</ol>
</li>
<li>小结：传统，小型项目物理外键可以存在；但大型项目必须弃用物理外键</li>
</ol>
</li>
</ol>
<h4 id="1-1-8-SpringBoot项目配置"><a href="#1-1-8-SpringBoot项目配置" class="headerlink" title="1.1.8  SpringBoot项目配置"></a>1.1.8  SpringBoot项目配置</h4><ol>
<li><p>引入SpringBoot的父级依赖</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--表示项目是一个SpringBoot项目--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>配置项目配置环境</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--项目编码方式--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--JDK版本号--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>引入项目依赖</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--SpringBoot启动插件--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!--排除自带的依赖日志插件--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--SpringBoot的web模块，表明该项目是一个web项目--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--SpringBoot配置文件解析，默认解析yml格式的；这个依赖作用是解析其他格式(xml,properties)的配置文件--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>SpringBoot的启动流程</p>
<ol>
<li>主线程main中调用SpringApplication的run()方法加载当前类的字节码文件</li>
<li>run()方法接收项目启动类的字节码文件返回一个SpringBoot上下文对象</li>
</ol>
</li>
</ol>
<h4 id="1-1-9-整合HikariCP与MyBatis"><a href="#1-1-9-整合HikariCP与MyBatis" class="headerlink" title="1.1.9 整合HikariCP与MyBatis"></a>1.1.9 整合HikariCP与MyBatis</h4><ol>
<li><p>引入依赖</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--mysql驱动--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--mybatis--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>配置数据源信息</p>
<pre class=" language-properties"><code class="language-properties"><span class="token comment" spellcheck="true">############################################################</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># 配置数据源信息</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true">############################################################</span>
<span class="token attr-name">spring</span><span class="token punctuation">:</span>
<span class="token attr-name">datasource</span><span class="token punctuation">:</span>                           <span class="token attr-value"># 数据源的相关配置</span>
<span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token attr-value">com.zaxxer.hikari.HikariDataSource  # 数据源类型：HikariCP</span>
<span class="token attr-name">driver-class-name</span><span class="token punctuation">:</span> <span class="token attr-value">com.mysql.jdbc.Driver  # mysql驱动</span>
<span class="token attr-name">url</span><span class="token punctuation">:</span> <span class="token attr-value">jdbc:mysql://MySQL服务器地址:3306/foodie-shop-dev?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect</span>
<span class="token attr-name">username</span><span class="token punctuation">:</span> <span class="token attr-value">用户名</span>
<span class="token attr-name">password</span><span class="token punctuation">:</span> <span class="token attr-value">密码</span>
<span class="token attr-name">hikari</span><span class="token punctuation">:</span>
<span class="token attr-name">connection-timeout</span><span class="token punctuation">:</span> <span class="token attr-value">30000         # 等待连接池分配连接的最大时长（毫秒），超过这个时长还没可用的连接则发生SQ</span>
<span class="token attr-name">minimum-idle</span><span class="token punctuation">:</span> <span class="token attr-value">5                   # 最小连接数,没有默认值，等同于10;一般设置为5-10</span>
<span class="token attr-name">maximum-pool-size</span><span class="token punctuation">:</span> <span class="token attr-value">20             # 最大连接数,默认值是10;一般设置为20</span>
<span class="token comment" spellcheck="true"># 官方建议将最大值和最小值设置一致</span>
<span class="token attr-name">auto-commit</span><span class="token punctuation">:</span> <span class="token attr-value">true                 # 自动提交</span>
<span class="token attr-name">idle-timeout</span><span class="token punctuation">:</span> <span class="token attr-value">600000              # 连接超时的最大时长（毫秒），超时则被释放（retired），默认:10分钟</span>
<span class="token attr-name">pool-name</span><span class="token punctuation">:</span> <span class="token attr-value">DateSourceHikariCP     # 连接池名字</span>
<span class="token attr-name">max-lifetime</span><span class="token punctuation">:</span> <span class="token attr-value">1800000             # 连接的生命时长（毫秒），超时而且没被使用则被释放（retired），默认:30分钟</span>
<span class="token attr-name">connection-test-query</span><span class="token punctuation">:</span> <span class="token attr-value">SELECT 1   # 指定连接的时候的测试sql语句</span>
<span class="token comment" spellcheck="true">############################################################</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># mybatis 配置</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true">############################################################</span>
<span class="token attr-name">mybatis</span><span class="token punctuation">:</span>
<span class="token attr-name">type-aliases-package</span><span class="token punctuation">:</span> <span class="token attr-value">com.mjh.mapper        # 所有POJO类所在包路径</span>
<span class="token attr-name">mapper-locations</span><span class="token punctuation">:</span> <span class="token attr-value">classpath:mapper/*.xml  # mapper映射文件，数据层的资源目录下文件</span></code></pre>
</li>
<li><p>MyBatis数据库逆向生成</p>
<ol>
<li><p>mybatis-generator-集成了myMapper插件(引入依赖)—pom文件中引入依赖</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--通用Mapper逆向工具--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>tk.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mapper-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>在api模块中添加配置</p>
<pre class=" language-properties"><code class="language-properties"><span class="token comment" spellcheck="true">############################################################</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># mybatis mapper 配置</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true">############################################################</span>
<span class="token comment" spellcheck="true"># 通用 Mapper 配置</span>
<span class="token attr-name">mapper</span><span class="token punctuation">:</span>
<span class="token attr-name">  mappers</span><span class="token punctuation">:</span> <span class="token attr-value">com.mjh.my.mapper.MyMapper</span>
<span class="token attr-name">  not-empty</span><span class="token punctuation">:</span> <span class="token attr-value">false        #在进行数据库操作的时候，判断表达式</span>
<span class="token comment" spellcheck="true">                            #username != null,是否追加username != ''</span>
<span class="token attr-name">  identity</span><span class="token punctuation">:</span> <span class="token attr-value">MYSQL         #数据库方言</span></code></pre>
</li>
</ol>
</li>
</ol>
<h4 id="1-1-10-结合通用Mapper，编写Restful风格Api"><a href="#1-1-10-结合通用Mapper，编写Restful风格Api" class="headerlink" title="1.1.10 结合通用Mapper，编写Restful风格Api"></a>1.1.10 结合通用Mapper，编写Restful风格Api</h4><blockquote>
<p>是一种通信方式，用于信息传递；是一种无状态的。</p>
</blockquote>
<ol>
<li><p>设计规范</p>
<ol>
<li>get：查询资源</li>
<li>post：保存信息，更新资源</li>
<li>put：更新资源</li>
<li>delete：删除资源</li>
</ol>
</li>
<li><p>示例</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/Restful%E9%A3%8E%E6%A0%BC.png" alt="Restful风格"></p>
</li>
</ol>
<h4 id="1-1-11-事务传播详解"><a href="#1-1-11-事务传播详解" class="headerlink" title="1.1.11 事务传播详解"></a>1.1.11 事务传播详解</h4><ol>
<li>单机版事务传播(propagation)<ol>
<li>require：使用当前的事务，如果当前没有事务，则自己新建一个事物，子方法必须是运行在一个事物中的；如果当前存在事务，则加入这个事务，成为一个整体。</li>
<li>supports：如果当前有事务，则使用事务；如果当前没有事务，则不使用事务。</li>
<li>mandatory：该传播属性强制必须存在一个事物，如果不存在，就抛出异常。</li>
<li>requires_new：如果当前有事务，则挂起该事务，并且为自己创建一个新事物使用；如果当前没有事务，作用和require相同</li>
<li>not_supported：如果当前有事务，则把事务挂起，以一种不适用事务的方式去操作数据库</li>
<li>never：如果当前有事务存在，则抛出异常</li>
<li>nested：如果当前有事务，则开启事务(嵌套事务)，嵌套事务是独立提交或者回滚的；如果当前没有事务，作用和require相同；但是如果主事务提交，会携带子事务一起提交，如果主事务回滚，则子事务也一起回滚；但子事务异常，主事务可以回滚或不回滚。</li>
</ol>
</li>
<li>SpringBootApplication内置EnableTransactionManagement事务注解源码跟踪</li>
</ol>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/EnableTransactionManagement%E6%B3%A8%E8%A7%A3.png" alt="EnableTransactionManagement注解"></p>
<h4 id="1-1-12-用户注册-登录流程详解与功能开发"><a href="#1-1-12-用户注册-登录流程详解与功能开发" class="headerlink" title="1.1.12 用户注册/登录流程详解与功能开发"></a>1.1.12 用户注册/登录流程详解与功能开发</h4><ol>
<li><p>项目核心功能描述</p>
<ol>
<li>用户的注册与登录<ol>
<li>Cookie和Session</li>
</ol>
</li>
<li>分类设计与实现</li>
<li>首页商品推荐</li>
<li>商品的搜索和分页</li>
<li>商品的详情与评论渲染</li>
<li>购物车与订单</li>
<li>微信支付与支付宝支付</li>
<li>集成Swagger2 生成api文档</li>
</ol>
</li>
<li><p>用户的注册和登录</p>
<ol>
<li><p>注册流程</p>
<ol>
<li><p>一般流程图示</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E4%B8%80%E8%88%AC%E6%B5%81%E7%A8%8B%E5%9B%BE%E7%A4%BA.png" alt="一般流程图示"></p>
</li>
<li><p>邮箱注册流程</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E9%82%AE%E7%AE%B1%E6%B3%A8%E5%86%8C%E6%B5%81%E7%A8%8B.png" alt="邮箱注册流程"></p>
</li>
<li><p>手机号注册登录</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E6%89%8B%E6%9C%BA%E5%8F%B7%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95.png" alt="手机号注册登录"></p>
</li>
</ol>
</li>
</ol>
</li>
<li><p>用户名校验模块</p>
<ol>
<li><p>数据访问层注意要点</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mjh.mapper.UsersMapper<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mjh.pojo.Users<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></code></pre>
<ol>
<li>注意namespace的路径是数据访问层接口所在包路径</li>
<li>注意type类型是需要封装的实体类所在包路径</li>
<li>注意id是全局唯一的，在使用mybatis生成工具时候要注意修改id使得全局唯一</li>
</ol>
</li>
<li><p>业务逻辑层注意要点</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">public</span> UsersMapper usersMapper<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//校验用户名是否存在</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> Propagation<span class="token punctuation">.</span>SUPPORTS<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">queryUsernameIsExist</span><span class="token punctuation">(</span>String username<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//1. 创建用户表在mybatis中的example实例对象</span>
    Example userExample <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>Users<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//2. 创建实例对象的条件集合</span>
    Example<span class="token punctuation">.</span>Criteria userExampleCriteria <span class="token operator">=</span> userExample<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//3. 选取对应方法进行操作</span>
    userExampleCriteria<span class="token punctuation">.</span><span class="token function">andEqualTo</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//4. 调用数据层的通用Mapper方法</span>
    Users user <span class="token operator">=</span> usersMapper<span class="token punctuation">.</span><span class="token function">selectOneByExample</span><span class="token punctuation">(</span>userExample<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//5. 返回查询状态</span>
    <span class="token keyword">return</span> user <span class="token operator">==</span> null <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
<ol>
<li>一定要对数据访问层进行注入</li>
<li>Example的使用</li>
</ol>
</li>
<li><p>表现层注意要点</p>
<ol>
<li>一定要对业务逻辑层进行注入</li>
<li>注意方法和类路径的<code>/</code>，以免访问出错</li>
<li>@RequestParam：表示该参数是一个请求类型的参数</li>
</ol>
</li>
<li><p>app启动类注意要点</p>
<ol>
<li><p>一定要添加MapperScan进行数据访问层包扫描</p>
<p>a. <code>@MapperScan(basePackages = &quot;com.mjh.mapper&quot;)</code></p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="1-1-13-整合与优化Swagger2文档Api"><a href="#1-1-13-整合与优化Swagger2文档Api" class="headerlink" title="1.1.13 整合与优化Swagger2文档Api"></a>1.1.13 整合与优化Swagger2文档Api</h4><ol>
<li><p>父工程引入依赖坐标</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- swagger2 配置 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--官方UI依赖--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.springfox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springfox-swagger-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--第三方UI依赖--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.xiaoymin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>swagger-bootstrap-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>创建Swagger2核心配置类</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//表示该类是一个Spring的配置类</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token comment" spellcheck="true">//开启Swagger2配置</span>
<span class="token annotation punctuation">@EnableSwagger2</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Swagger2</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// http://localhost:8088/swagger-ui.html 官方API文档访问链接</span>
    <span class="token comment" spellcheck="true">// http://localhost:8088/doc.html 第三方API文档访问链接</span>

    <span class="token annotation punctuation">@Bean</span> <span class="token comment" spellcheck="true">// 表示是一个Spring的Bean实例</span>
    <span class="token comment" spellcheck="true">//配置Swagger2核心配置，docket</span>
    <span class="token keyword">public</span> Docket <span class="token function">createRestApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Docket</span><span class="token punctuation">(</span>DocumentationType<span class="token punctuation">.</span>SWAGGER_2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 用于指定api类型为Swagger2</span>
            <span class="token punctuation">.</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 用于定义api文档汇总信息</span>
            <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">apis</span><span class="token punctuation">(</span>RequestHandlerSelectors
                  <span class="token punctuation">.</span><span class="token function">basePackage</span><span class="token punctuation">(</span><span class="token string">"com.mjh.controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 指定Controller所在包路径</span>
            <span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span>PathSelectors<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 所有Controller</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> ApiInfo <span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"欢乐商城 平台接口API"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">"mjh"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 文档页标题</span>
                                 <span class="token string">"http://www.mjhcode.com"</span><span class="token punctuation">,</span>
                                 <span class="token string">"mjh@aliyun.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 联系人信息</span>
            <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"专为码农提供的api文档"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 详细信息</span>
            <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0.1"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 文档版本号</span>
            <span class="token punctuation">.</span><span class="token function">termsOfServiceUrl</span><span class="token punctuation">(</span><span class="token string">"http://www.mjhcode.com"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 网站网址</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-1-14-API文档生成工具Swagger2"><a href="#1-1-14-API文档生成工具Swagger2" class="headerlink" title="1.1.14 API文档生成工具Swagger2"></a>1.1.14 API文档生成工具Swagger2</h4><table>
<thead>
<tr>
<th>注解</th>
<th>作用</th>
<th>常用属性</th>
</tr>
</thead>
<tbody><tr>
<td><code>@ApiIgnore</code></td>
<td>在使用Swagger2生成API文档时忽略该接口</td>
<td>无</td>
</tr>
<tr>
<td><code>@Api</code></td>
<td>用于生成api文档说明，一般作用于类上</td>
<td><code>value</code>和<code>tags</code></td>
</tr>
<tr>
<td><code>@ApiOperation</code></td>
<td>用于为当前方法生成API文档描述</td>
<td><code>value</code>，<code>notes</code>和<code>httpMethod</code></td>
</tr>
<tr>
<td><code>@ApiModel</code></td>
<td>为该类生成的API文档添加描述(一般用于实体类中)</td>
<td><code>value</code>和<code>description</code></td>
</tr>
<tr>
<td><code>@ApiModelProperty</code></td>
<td>用于当前属性生成API文档描述(一般用于实体类中)</td>
<td><code>value</code>，<code>name</code>，<code>example</code>和<code>required</code></td>
</tr>
</tbody></table>
<h4 id="1-1-15-设置跨域配置实现前后端联调"><a href="#1-1-15-设置跨域配置实现前后端联调" class="headerlink" title="1.1.15 设置跨域配置实现前后端联调"></a>1.1.15 设置跨域配置实现前后端联调</h4><ol>
<li><p>修改前端项目中js目录下的开发环境路径，修改接口服务地址路径为：<code>serviceUrl: &quot;http://localhost:8080&quot;</code></p>
</li>
<li><p>创建跨域资源访问配置类</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsConfig</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">CorsConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 空参构造</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> CorsFilter <span class="token function">corsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 1. 添加cors配置信息</span>
        CorsConfiguration configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CorsConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configuration<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">"允许跨域的IP地址:8080"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 2. 设置是否发送cookie信息</span>
        configuration<span class="token punctuation">.</span><span class="token function">setAllowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 3. 设置允许请求的方式</span>
        configuration<span class="token punctuation">.</span><span class="token function">addAllowedMethod</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 4. 设置允许的header</span>
        configuration<span class="token punctuation">.</span><span class="token function">addAllowedHeader</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 5. 为url添加映射路径</span>
        UrlBasedCorsConfigurationSource source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        source<span class="token punctuation">.</span><span class="token function">registerCorsConfiguration</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">,</span> configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 6. 返回新的source</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-1-16-用户登录实现"><a href="#1-1-16-用户登录实现" class="headerlink" title="1.1.16 用户登录实现"></a>1.1.16 用户登录实现</h4><ol>
<li><p>编写service</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 用于登录</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> Propagation<span class="token punctuation">.</span>SUPPORTS<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> Users <span class="token function">queryUserForLogin</span><span class="token punctuation">(</span>String username<span class="token punctuation">,</span> String password<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//1. 创建用户表在mybatis中的example实例对象</span>
    Example userExample <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>Users<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//2. 创建实例对象的条件集合</span>
    Example<span class="token punctuation">.</span>Criteria userExampleCriteria <span class="token operator">=</span> userExample<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//3. 选取对应方法进行操作</span>
    userExampleCriteria<span class="token punctuation">.</span><span class="token function">andEqualTo</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    userExampleCriteria<span class="token punctuation">.</span><span class="token function">andEqualTo</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//4. 调用数据层的通用Mapper方法</span>
    Users user <span class="token operator">=</span> usersMapper<span class="token punctuation">.</span><span class="token function">selectOneByExample</span><span class="token punctuation">(</span>userExample<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> user<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>编写Controller</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 用于为当前方法生成API文档注释</span>
<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"用户登录"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"用户登录"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"POST"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span><span class="token comment" spellcheck="true">/*将前端传递的json数据接收映射为Java类*/</span> UserBO userBO<span class="token punctuation">,</span>
                           HttpServletRequest request<span class="token punctuation">,</span>
                           HttpServletResponse response
    <span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//1. 获取用户信息</span>
        String username <span class="token operator">=</span> userBO<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String password <span class="token operator">=</span> userBO<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//2. 用户名密码进行非空校验</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">||</span> StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">errorMsg</span><span class="token punctuation">(</span><span class="token string">"用户名或密码不能为空"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//4. 对前端密码进行加密，因为数据库密码是密文形式，所以加密后进行比对</span>
        String md5Password <span class="token operator">=</span> MD5Utils<span class="token punctuation">.</span><span class="token function">getMD5Str</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//5. 实现登录登录校验</span>
        Users user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">queryUserForLogin</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> md5Password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//6. 进行返回值校验</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">errorMsg</span><span class="token punctuation">(</span><span class="token string">"用户不存在或者密码输入错误"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 7. 将用户关键信息置为null，以免cookie劫持；真实场景要进行加密</span>
        user <span class="token operator">=</span> <span class="token function">setUserProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 8. 将用户信息写入cookie中，用于数据回显</span>
        CookieUtils<span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token string">"user"</span><span class="token punctuation">,</span> JsonUtils<span class="token punctuation">.</span><span class="token function">objectToJson</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-1-17-Cookie和Session"><a href="#1-1-17-Cookie和Session" class="headerlink" title="1.1.17 Cookie和Session"></a>1.1.17 Cookie和Session</h4><ol>
<li>Cookie<ol>
<li>以键值对的形式存储信息在浏览器中，有大小限制，为4kb</li>
<li>不能进行跨域，在当前及其父级域名可以取值</li>
<li>可以设置有效期</li>
<li>可以设置path</li>
</ol>
</li>
<li>Session<ol>
<li>基于服务器内存的缓存(非持久化 )，能保存请求会话</li>
<li>每个session通过sessionid(即调试面板的JSessionid)来区分不同请求</li>
<li>session可以设置过期时间</li>
<li>session也可以是键值对形式存在的</li>
</ol>
</li>
</ol>
<h4 id="1-1-18-整合Log4j打印日志"><a href="#1-1-18-整合Log4j打印日志" class="headerlink" title="1.1.18 整合Log4j打印日志"></a>1.1.18 整合Log4j打印日志</h4><ol>
<li><p>基于SpringAOP实现</p>
</li>
<li><p>实现</p>
<ol>
<li><p>引入AOP依赖</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--aspect实现的AOP依赖--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre>
</li>
<li><p>在API接口资源目录下添加日志配置文件</p>
<pre class=" language-properties"><code class="language-properties"><span class="token attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG,stdout,file</span>
<span class="token attr-name">log4j.additivity.org.apache</span><span class="token punctuation">=</span><span class="token attr-value">true</span>

<span class="token attr-name">log4j.appender.stdout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token attr-name">log4j.appender.stdout.threshold</span><span class="token punctuation">=</span><span class="token attr-value">INFO</span>
<span class="token attr-name">log4j.appender.stdout.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token attr-name">log4j.appender.stdout.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">%-5p %c&amp;#123;1&amp;#125;:%L - %m%n</span>

<span class="token attr-name">log4j.appender.file</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.DailyRollingFileAppender</span>
<span class="token attr-name">log4j.appender.file.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token attr-name">log4j.appender.file.DatePattern</span><span class="token punctuation">=</span><span class="token attr-value">'.'yyyy-MM-dd-HH-mm</span>
<span class="token attr-name">log4j.appender.file.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">%d&amp;#123;yyyy-MM-dd HH:mm:ss&amp;#125; %-5p %c&amp;#123;1&amp;#125;:%L - %m%n</span>
<span class="token attr-name">log4j.appender.file.Threshold</span><span class="token punctuation">=</span><span class="token attr-value">INFO</span>
<span class="token attr-name">log4j.appender.file.append</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">log4j.appender.file.File</span><span class="token punctuation">=</span><span class="token attr-value">/workspaces/logs/foodie-api/mylog.log</span></code></pre>
</li>
</ol>
</li>
</ol>
<h4 id="1-1-19-通过日志监控Service执行时间"><a href="#1-1-19-通过日志监控Service执行时间" class="headerlink" title="1.1.19 通过日志监控Service执行时间"></a>1.1.19 通过日志监控Service执行时间</h4><ol>
<li><p>在启动引导类中新增切面类实现</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span> <span class="token comment" spellcheck="true">// 声明为Spring的切面类</span>
<span class="token annotation punctuation">@Component</span> <span class="token comment" spellcheck="true">// 表示该类是一个Spring的组件类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceLogAspect</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 全局日志标签</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> Logger Log <span class="token operator">=</span> LoggerFactory<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>ServiceLogAspect<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/*
     * AOP通知类型：
     * 1. 前置通知：在方法调用之前执行
     * 2. 后置通知：在方法**正常**调用之后执行
     * 3. 环绕通知：在方法调用之前和之后都能执行
     * 4. 异常通知：如果在方法调用过程中发生异常，则通知
     * 5. 最终通知：在方法调用之后执行
     * */</span>

    <span class="token comment" spellcheck="true">/*
     * @Description // 切面表达式
     * 第一处 * 代表方法的返回类型， * 代表所有类型
     * 第二处 包名代表AOP监控的类所在的包
     * 第三处 .. 代表该包及其子包下的所有类及其方法
     * 第四处 * 代表类名，*代表所有类
     * 第五处 *(..) 代表类中的所有方法和任意参数；
     *        *代表类中的所有方法，..代表方法中的任何参数
     * @Param [joinPoint]
     * @return java.lang.Object
     **/</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">"execution(* com.mjh.service.impl..*.*(..))"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> Object <span class="token function">recordTimeLog</span><span class="token punctuation">(</span>ProceedingJoinPoint joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> Throwable <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"==== 开始执行 &amp;#123;&amp;#125;.&amp;#123;&amp;#125; ===="</span><span class="token punctuation">,</span> joinPoint<span class="token punctuation">.</span><span class="token function">getTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 方法开始执行的时间点</span>
        <span class="token keyword">long</span> begin <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 开始执行目标方法</span>
        Object result <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 方法结束执行的时间点</span>
        <span class="token keyword">long</span> end <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 执行方法耗时</span>
        <span class="token keyword">long</span> takeTime <span class="token operator">=</span> end <span class="token operator">-</span> begin<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 进行日志级别输出</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>takeTime <span class="token operator">></span> <span class="token number">3000</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"===== 执行结束，耗时：&amp;#123;&amp;#125; 毫秒 ===="</span><span class="token punctuation">,</span> takeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>takeTime <span class="token operator">></span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"===== 执行结束，耗时：&amp;#123;&amp;#125; 毫秒 ===="</span><span class="token punctuation">,</span> takeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            Log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"===== 执行结束，耗时：&amp;#123;&amp;#125; 毫秒 ===="</span><span class="token punctuation">,</span> takeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 返回方法对象</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-1-20-用户退出登录清空Cookie"><a href="#1-1-20-用户退出登录清空Cookie" class="headerlink" title="1.1.20 用户退出登录清空Cookie"></a>1.1.20 用户退出登录清空Cookie</h4><ol>
<li><p>在PortController的logout方法中添加移除Cookie的方法</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 退出登录</span>
<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"用户退出登录"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"用户退出登录"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"POST"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">logout</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> String userId<span class="token punctuation">,</span>
                            HttpServletRequest request<span class="token punctuation">,</span>
                            HttpServletResponse response<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 清除用户信息的相关Cookie</span>
    CookieUtils<span class="token punctuation">.</span><span class="token function">deleteCookie</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">,</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// todo 用户退出登录需要清空购物车</span>
    <span class="token comment" spellcheck="true">// todo 分布式会话中需要清除用户数据</span>

    <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-1-21-开启MyBatis日志Sql打印"><a href="#1-1-21-开启MyBatis日志Sql打印" class="headerlink" title="1.1.21 开启MyBatis日志Sql打印"></a>1.1.21 开启MyBatis日志Sql打印</h4><ol>
<li><p>在API接口资源目录下添加如下配置</p>
<pre class=" language-yml"><code class="language-yml">mybatis:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # 开启控制台日志打印</code></pre>
</li>
</ol>
<h3 id="1-2-商品分类搜索购物车模块实现"><a href="#1-2-商品分类搜索购物车模块实现" class="headerlink" title="1.2 商品分类搜索购物车模块实现"></a>1.2 商品分类搜索购物车模块实现</h3><h4 id="1-2-1-电商首页轮播图功能开发"><a href="#1-2-1-电商首页轮播图功能开发" class="headerlink" title="1.2.1 电商首页轮播图功能开发"></a>1.2.1 电商首页轮播图功能开发</h4><ol>
<li><p>数据库表结构</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E8%BD%AE%E6%92%AD%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%84.png" alt="轮播图表结构"></p>
<ol>
<li>sort字段代表轮播图顺序</li>
</ol>
</li>
<li><p>业务逻辑层书写</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 注入数据访问层</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> CarouselMapper carouselMapper<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 查询所有轮播图</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Carousel<span class="token operator">></span> <span class="token function">queryAllCarousel</span><span class="token punctuation">(</span>Integer isShow<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1. 构造Carousel的查询对象</span>
    Example example <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>Carousel<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1.1 为轮播图排序;倒序排列</span>
    example<span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string">"sort"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 2. 创建查询条件</span>
    Example<span class="token punctuation">.</span>Criteria criteria <span class="token operator">=</span> example<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 3. 添加查询条件</span>
    criteria<span class="token punctuation">.</span><span class="token function">andEqualTo</span><span class="token punctuation">(</span><span class="token string">"isShow"</span><span class="token punctuation">,</span> isShow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 4. 执行查询</span>
    List<span class="token operator">&lt;</span>Carousel<span class="token operator">></span> carouselList <span class="token operator">=</span> carouselMapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> carouselList<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>视图展示层书写</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>  <span class="token comment" spellcheck="true">//首页展示相关</span>
<span class="token keyword">private</span> CarouselService carouselService<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 用于为当前方法生成API文档注释</span>
<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"轮播图查询"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"轮播图集合"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/carousel"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">carousel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//1. 查询所有轮播图列表</span>
    List<span class="token operator">&lt;</span>Carousel<span class="token operator">></span> carouselList <span class="token operator">=</span> carouselService<span class="token punctuation">.</span><span class="token function">queryAllCarousel</span><span class="token punctuation">(</span>YesOrNo<span class="token punctuation">.</span>YES<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//2. 返回查询结果</span>
    <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>carouselList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-2-2-首页分类需求分析"><a href="#1-2-2-首页分类需求分析" class="headerlink" title="1.2.2 首页分类需求分析"></a>1.2.2 首页分类需求分析</h4><ol>
<li>第一次刷新主页查询根分类，渲染展示到首页。</li>
<li>鼠标移动到跟分类，则加载根分类对应的子分类及其内容；如果子分类已经存在就不需要加载(懒加载)。</li>
</ol>
<h5 id="1-2-2-1-分类实现-加载与渲染大分类"><a href="#1-2-2-1-分类实现-加载与渲染大分类" class="headerlink" title="1.2.2.1 分类实现 - 加载与渲染大分类"></a>1.2.2.1 分类实现 - 加载与渲染大分类</h5><ol>
<li><p>数据库表结构</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%88%86%E7%B1%BB%E8%A1%A8%E7%BB%93%E6%9E%84.png" alt="分类表结构"></p>
<ol>
<li>type字段为分类标识符</li>
</ol>
</li>
<li><p>业务逻辑层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> CategoryMapper categoryMapper<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 查询所有一级分类</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> Propagation<span class="token punctuation">.</span>SUPPORTS<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Category<span class="token operator">></span> <span class="token function">queryAllCategory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 1. 构造Category的查询对象</span>
    Example example <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>Category<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 2. 创建查询条件</span>
    Example<span class="token punctuation">.</span>Criteria criteria <span class="token operator">=</span> example<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 3. 添加查询条件 // todo 补充categoryType枚举类</span>
    <span class="token keyword">int</span> categoryType <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    criteria<span class="token punctuation">.</span><span class="token function">andEqualTo</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> categoryType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 4. 执行查询</span>
    List<span class="token operator">&lt;</span>Category<span class="token operator">></span> categoryList <span class="token operator">=</span> categoryMapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> categoryList<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>视图展示层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>  <span class="token comment" spellcheck="true">//分类列表相关</span>
<span class="token keyword">private</span> CategoryService categoryService<span class="token punctuation">;</span>

<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"获取商品分类(一级分类)"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"获取商品分类(一级分类)"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/cats"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">category</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Category<span class="token operator">></span> categoryList <span class="token operator">=</span> categoryService<span class="token punctuation">.</span><span class="token function">queryAllCategory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>categoryList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h5 id="1-2-2-2-分类实现-自连接查询子分类"><a href="#1-2-2-2-分类实现-自连接查询子分类" class="headerlink" title="1.2.2.2 分类实现 - 自连接查询子分类"></a>1.2.2.2 分类实现 - 自连接查询子分类</h5><ol>
<li><p>sql编写</p>
<pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true">-- 根据一级分类查询子分类</span>
<span class="token keyword">select</span>
  <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">as</span> id<span class="token punctuation">,</span>
  <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">as</span> name<span class="token punctuation">,</span>
  <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span><span class="token keyword">type</span><span class="token punctuation">`</span> <span class="token keyword">as</span> <span class="token keyword">type</span><span class="token punctuation">,</span>
  <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span>father_id<span class="token punctuation">`</span> <span class="token keyword">as</span> fatherId<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">as</span> subId<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">as</span> subName<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span><span class="token keyword">type</span><span class="token punctuation">`</span> <span class="token keyword">as</span> subType<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>father_id<span class="token punctuation">`</span> <span class="token keyword">as</span> subFatherId
<span class="token keyword">from</span>
  category <span class="token number">f</span>
  <span class="token keyword">left</span> <span class="token keyword">join</span> category <span class="token number">c</span>
    <span class="token keyword">on</span> <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>father_id<span class="token punctuation">`</span>
<span class="token keyword">where</span> <span class="token number">f</span><span class="token punctuation">.</span><span class="token punctuation">`</span>father_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">1</span></code></pre>
</li>
</ol>
<h5 id="1-2-2-3-分类实现-自定义Mapper实现懒加载子分类展示"><a href="#1-2-2-3-分类实现-自定义Mapper实现懒加载子分类展示" class="headerlink" title="1.2.2.3 分类实现 - 自定义Mapper实现懒加载子分类展示"></a>1.2.2.3 分类实现 - 自定义Mapper实现懒加载子分类展示</h5><ol>
<li><p>数据访问层编写</p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!--自定义Mapper文件编写--></span>
<span class="token comment" spellcheck="true">&lt;!--namespace是自定义Mapper的全路径类名--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mjh.mapper.CategoryMapperCustom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--id属性值和sql中的resultMap值对应
        type为查询结果封装类型
        Collection为查询类型中的集合类型            
    --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CategoryVO<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mjh.pojo.vo.CategoryVO<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>type<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fatherId<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fatherId<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token comment" spellcheck="true">&lt;!--Collection 标签：用于定义关联的list集合类型
            property：对应三级分类的list属性名和前端调用的参数名相同
            ofType：集合的类型，三级分类的VO
        --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subCatList<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.mjh.pojo.vo.SubCategoryVO<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subId<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subId<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subName<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subType<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subType<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subFatherId<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subFatherId<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>

    <span class="token comment" spellcheck="true">&lt;!--id值和自定义Mapper的方法名相同--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getSubCatList<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>CategoryVO<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        select
        f.`id` as id,
        f.`name` as name,
        f.`type` as type,
        f.`father_id` as fatherId,
        c.`id` as subId,
        c.`name` as subName,
        c.`type` as subType,
        c.`father_id` as subFatherId
        from
        category f
        left join
        category c
        on
        f.`id` = c.`father_id`
        where
        f.`father_id` = #<span class="token entity" title="&#123;">&amp;#123;</span>rootCatId<span class="token entity" title="&#125;">&amp;#125;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span></code></pre>
<ol>
<li><p>注意</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%88%86%E7%B1%BB%E6%B3%A8%E6%84%8F.png" alt="分类注意"></p>
<p>cat是二级分类数组，subCatList必须和Java类的属性名保持一致，否则前端拿不到值</p>
</li>
</ol>
</li>
<li><p>业务逻辑层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> CategoryMapperCustom categoryMapperCustom<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//查询二级分类及其子分类</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> Propagation<span class="token punctuation">.</span>SUPPORTS<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> List<span class="token operator">&lt;</span>CategoryVO<span class="token operator">></span> <span class="token function">getSubCateList</span><span class="token punctuation">(</span>Integer rootCatId<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    List subCatList <span class="token operator">=</span> categoryMapperCustom<span class="token punctuation">.</span><span class="token function">getSubCatList</span><span class="token punctuation">(</span>rootCatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> subCatList<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>视图展示层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 用于为当前方法生成API文档注释</span>
<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"查询二级分类及其子分类"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"查询二级分类及其子分类"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/subCat/&amp;#123;rootCatId&amp;#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">getSubCateList</span><span class="token punctuation">(</span>
    <span class="token annotation punctuation">@ApiParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"rootCatId"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"一级分类Id"</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@PathVariable</span> Integer rootCatId<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rootCatId <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">errorMsg</span><span class="token punctuation">(</span><span class="token string">"分类不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>CategoryVO<span class="token operator">></span> subCateList <span class="token operator">=</span> categoryService<span class="token punctuation">.</span><span class="token function">getSubCateList</span><span class="token punctuation">(</span>rootCatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>subCateList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h4 id="1-2-3-商品推荐-需求分析与Sql查询"><a href="#1-2-3-商品推荐-需求分析与Sql查询" class="headerlink" title="1.2.3 商品推荐 - 需求分析与Sql查询"></a>1.2.3 商品推荐 - 需求分析与Sql查询</h4><ol>
<li><p>sql编写</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> rootCatId<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span>name rootCatName<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>slogan<span class="token punctuation">`</span> slogan<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>cat_image<span class="token punctuation">`</span> catImage<span class="token punctuation">,</span>
  <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>bg_color<span class="token punctuation">`</span> bgColor<span class="token punctuation">,</span>
  i<span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> itemId<span class="token punctuation">,</span>
  i<span class="token punctuation">.</span><span class="token punctuation">`</span>item_name<span class="token punctuation">`</span> itemName<span class="token punctuation">,</span>
  ii<span class="token punctuation">.</span><span class="token punctuation">`</span>url<span class="token punctuation">`</span> itemUrl<span class="token punctuation">,</span>
  i<span class="token punctuation">.</span><span class="token punctuation">`</span>created_time<span class="token punctuation">`</span> createTime
<span class="token keyword">from</span>
  category <span class="token number">c</span>
  <span class="token keyword">left</span> <span class="token keyword">join</span> items i
    <span class="token keyword">on</span> <span class="token number">c</span><span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token punctuation">`</span>root_cat_id<span class="token punctuation">`</span>
  <span class="token keyword">left</span> <span class="token keyword">join</span> items_img ii
    <span class="token keyword">on</span> i<span class="token punctuation">.</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token operator">=</span> ii<span class="token punctuation">.</span><span class="token punctuation">`</span>item_id<span class="token punctuation">`</span>
<span class="token keyword">where</span> <span class="token number">c</span><span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token operator">and</span> i<span class="token punctuation">.</span><span class="token punctuation">`</span>root_cat_id<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">7</span>
  <span class="token operator">and</span> ii<span class="token punctuation">.</span><span class="token punctuation">`</span>is_main<span class="token punctuation">`</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> i<span class="token punctuation">.</span><span class="token punctuation">`</span>created_time<span class="token punctuation">`</span> <span class="token keyword">desc</span>
<span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span></code></pre>
</li>
<li><p>减少表的关联查询，以优化性能</p>
</li>
</ol>
<h5 id="1-2-3-1-商品推荐实现与联调"><a href="#1-2-3-1-商品推荐实现与联调" class="headerlink" title="1.2.3.1 商品推荐实现与联调"></a>1.2.3.1 商品推荐实现与联调</h5><ol>
<li><p>映射注意点</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%95%86%E5%93%81%E6%8E%A8%E8%8D%90%E6%98%A0%E5%B0%84%E6%B3%A8%E6%84%8F%E7%82%B9.png" alt="商品推荐映射注意点"></p>
<p>封装类的属性值务必和前端调用的属性值保持一致，否则前端拿不到数据</p>
</li>
<li><p>两个封装类核心属性</p>
<pre class=" language-java"><code class="language-java">NewItemsVO <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> Integer rootCatId<span class="token punctuation">;</span>
<span class="token keyword">private</span> String rootCatName<span class="token punctuation">;</span>
<span class="token keyword">private</span> String slogan<span class="token punctuation">;</span>
<span class="token keyword">private</span> String catImage<span class="token punctuation">;</span>
<span class="token keyword">private</span> String bgColor<span class="token punctuation">;</span>
<span class="token keyword">private</span> List<span class="token operator">&lt;</span>SimpleItemVO<span class="token operator">></span> simpleItemList<span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
SimpleItemVO <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> String itemId<span class="token punctuation">;</span>
<span class="token keyword">private</span> String itemName<span class="token punctuation">;</span>
<span class="token keyword">private</span> String itemUrl<span class="token punctuation">;</span>
<span class="token keyword">private</span> String createTime<span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//这些属性在这里怎么写，前端就必须data.[这里对应的属性名]</span></code></pre>
</li>
<li><p>业务逻辑层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//根据一级分类Id查询6条最新商品数据</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> Propagation<span class="token punctuation">.</span>SUPPORTS<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> List<span class="token operator">&lt;</span>NewItemsVO<span class="token operator">></span> <span class="token function">getSixNewItemsLazy</span><span class="token punctuation">(</span>Integer rootCatId<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"rootCatId"</span><span class="token punctuation">,</span> rootCatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>NewItemsVO<span class="token operator">></span> newItemsLazy <span class="token operator">=</span> categoryMapperCustom<span class="token punctuation">.</span><span class="token function">getSixNewItemsLazy</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> newItemsLazy<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>视图展示层编写</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 用于为当前方法生成API文档注释</span>
<span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"查询一级分类下的最新6条数据"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"查询一级分类下的最新6条数据"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/sixNewItems/&amp;#123;rootCatId&amp;#125;"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//注意前端请求的路径必须和这里一致</span>
<span class="token keyword">public</span> MJHJSONResult <span class="token function">getSixNewItemsLazy</span><span class="token punctuation">(</span>
    <span class="token annotation punctuation">@ApiParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"rootCatId"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"一级分类Id"</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@PathVariable</span> Integer rootCatId<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rootCatId <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">errorMsg</span><span class="token punctuation">(</span><span class="token string">"分类不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>NewItemsVO<span class="token operator">></span> subCateList <span class="token operator">=</span> categoryService<span class="token punctuation">.</span><span class="token function">getSixNewItemsLazy</span><span class="token punctuation">(</span>rootCatId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> MJHJSONResult<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>subCateList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<h5 id="1-2-3-2-商品详情实现与联调"><a href="#1-2-3-2-商品详情实现与联调" class="headerlink" title="1.2.3.2 商品详情实现与联调"></a>1.2.3.2 商品详情实现与联调</h5><ol>
<li><p>需求分析</p>
<ol>
<li><p>商品规格展示</p>
</li>
<li><p>商品详情展示</p>
</li>
<li><p>点击商品进入详情展示页面只向后端发送一次请求</p>
</li>
<li><p>数据库表结构展示</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85%E7%9B%B8%E5%85%B3%E8%A1%A8%E7%BB%93%E6%9E%84.png" alt="商品详情相关表结构"></p>
</li>
</ol>
</li>
<li><p>注意要点</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/codeOfMjh/picgo@main/images/%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85VO%E6%98%A0%E5%B0%84%E6%B3%A8%E6%84%8F.png" alt="商品详情VO映射注意"></p>
</li>
</ol>
<h4 id="1-2-4-商品评价-数据库设计"><a href="#1-2-4-商品评价-数据库设计" class="headerlink" title="1.2.4 商品评价 - 数据库设计"></a>1.2.4 商品评价 - 数据库设计</h4><h5 id="1-2-4-1-商品评价-评论分页实现"><a href="#1-2-4-1-商品评价-评论分页实现" class="headerlink" title="1.2.4.1 商品评价 - 评论分页实现"></a>1.2.4.1 商品评价 - 评论分页实现</h5><h4 id="1-2-5-商品评价-信息脱敏"><a href="#1-2-5-商品评价-信息脱敏" class="headerlink" title="1.2.5 商品评价 - 信息脱敏"></a>1.2.5 商品评价 - 信息脱敏</h4><h4 id="1-2-6-搜索商品-功能详述与Sql编写"><a href="#1-2-6-搜索商品-功能详述与Sql编写" class="headerlink" title="1.2.6 搜索商品 - 功能详述与Sql编写"></a>1.2.6 搜索商品 - 功能详述与Sql编写</h4><h5 id="1-2-6-1-搜索商品-商品搜索功能实现"><a href="#1-2-6-1-搜索商品-商品搜索功能实现" class="headerlink" title="1.2.6.1 搜索商品 - 商品搜索功能实现"></a>1.2.6.1 搜索商品 - 商品搜索功能实现</h5><h5 id="1-2-6-2-搜索商品-前端业务与分类搜索查询"><a href="#1-2-6-2-搜索商品-前端业务与分类搜索查询" class="headerlink" title="1.2.6.2 搜索商品 - 前端业务与分类搜索查询"></a>1.2.6.2 搜索商品 - 前端业务与分类搜索查询</h5><h5 id="1-2-6-3-搜索商品-分类搜索商品查询实现"><a href="#1-2-6-3-搜索商品-分类搜索商品查询实现" class="headerlink" title="1.2.6.3 搜索商品 - 分类搜索商品查询实现"></a>1.2.6.3 搜索商品 - 分类搜索商品查询实现</h5><h4 id="1-2-7-购物车-购物车存储形式"><a href="#1-2-7-购物车-购物车存储形式" class="headerlink" title="1.2.7 购物车 - 购物车存储形式"></a>1.2.7 购物车 - 购物车存储形式</h4><h5 id="1-2-7-1-购物车-未登录已登录加入购物车业务代码讲解"><a href="#1-2-7-1-购物车-未登录已登录加入购物车业务代码讲解" class="headerlink" title="1.2.7.1 购物车 - 未登录已登录加入购物车业务代码讲解"></a>1.2.7.1 购物车 - 未登录已登录加入购物车业务代码讲解</h5><h5 id="1-2-7-2-购物车-渲染-刷新-购物车"><a href="#1-2-7-2-购物车-渲染-刷新-购物车" class="headerlink" title="1.2.7.2 购物车 - 渲染(刷新)购物车"></a>1.2.7.2 购物车 - 渲染(刷新)购物车</h5><h5 id="1-2-7-3-购物车-删除商品业务讲解"><a href="#1-2-7-3-购物车-删除商品业务讲解" class="headerlink" title="1.2.7.3 购物车 - 删除商品业务讲解"></a>1.2.7.3 购物车 - 删除商品业务讲解</h5><h3 id="1-3-地址，订单，支付模块开发"><a href="#1-3-地址，订单，支付模块开发" class="headerlink" title="1.3 地址，订单，支付模块开发"></a>1.3 地址，订单，支付模块开发</h3><h4 id="1-3-1-收货地址-需求分析与表设计"><a href="#1-3-1-收货地址-需求分析与表设计" class="headerlink" title="1.3.1 收货地址 - 需求分析与表设计"></a>1.3.1 收货地址 - 需求分析与表设计</h4><h5 id="1-3-1-1-收货地址-增删改查功能开发"><a href="#1-3-1-1-收货地址-增删改查功能开发" class="headerlink" title="1.3.1.1 收货地址 - 增删改查功能开发"></a>1.3.1.1 收货地址 - 增删改查功能开发</h5><h5 id="1-3-1-2-收货地址-默认收货地址设置"><a href="#1-3-1-2-收货地址-默认收货地址设置" class="headerlink" title="1.3.1.2 收货地址 - 默认收货地址设置"></a>1.3.1.2 收货地址 - 默认收货地址设置</h5><h4 id="1-3-2-确认订单-订单流程梳理与订单状态"><a href="#1-3-2-确认订单-订单流程梳理与订单状态" class="headerlink" title="1.3.2 确认订单 - 订单流程梳理与订单状态"></a>1.3.2 确认订单 - 订单流程梳理与订单状态</h4><h5 id="1-3-2-1-确认订单-订单表设计"><a href="#1-3-2-1-确认订单-订单表设计" class="headerlink" title="1.3.2.1 确认订单 - 订单表设计"></a>1.3.2.1 确认订单 - 订单表设计</h5><h5 id="1-3-2-2-确认订单-聚合支付中心作用"><a href="#1-3-2-2-确认订单-聚合支付中心作用" class="headerlink" title="1.3.2.2 确认订单 - 聚合支付中心作用"></a>1.3.2.2 确认订单 - 聚合支付中心作用</h5><h5 id="1-3-2-3-确认订单-提交并且接受订单信息"><a href="#1-3-2-3-确认订单-提交并且接受订单信息" class="headerlink" title="1.3.2.3 确认订单 - 提交并且接受订单信息"></a>1.3.2.3 确认订单 - 提交并且接受订单信息</h5><h4 id="1-3-3-创建订单-填充新订单数据"><a href="#1-3-3-创建订单-填充新订单数据" class="headerlink" title="1.3.3 创建订单 - 填充新订单数据"></a>1.3.3 创建订单 - 填充新订单数据</h4><h5 id="1-3-3-1-创建订单-保存订单与子订单数据"><a href="#1-3-3-1-创建订单-保存订单与子订单数据" class="headerlink" title="1.3.3.1 创建订单 - 保存订单与子订单数据"></a>1.3.3.1 创建订单 - 保存订单与子订单数据</h5><h5 id="1-3-3-2-创建订单-扣除商品库存与订单状态保存"><a href="#1-3-3-2-创建订单-扣除商品库存与订单状态保存" class="headerlink" title="1.3.3.2 创建订单 - 扣除商品库存与订单状态保存"></a>1.3.3.2 创建订单 - 扣除商品库存与订单状态保存</h5><h5 id="1-3-3-3-创建订单-测试订单创建与回滚"><a href="#1-3-3-3-创建订单-测试订单创建与回滚" class="headerlink" title="1.3.3.3 创建订单 - 测试订单创建与回滚"></a>1.3.3.3 创建订单 - 测试订单创建与回滚</h5><h5 id="1-3-3-4-创建订单-创建订单后-前端的业务处理"><a href="#1-3-3-4-创建订单-创建订单后-前端的业务处理" class="headerlink" title="1.3.3.4 创建订单 - 创建订单后,前端的业务处理"></a>1.3.3.4 创建订单 - 创建订单后,前端的业务处理</h5><h4 id="1-3-4-微信支付-构建商户端支付成功的回调接口"><a href="#1-3-4-微信支付-构建商户端支付成功的回调接口" class="headerlink" title="1.3.4 微信支付 - 构建商户端支付成功的回调接口"></a>1.3.4 微信支付 - 构建商户端支付成功的回调接口</h4><h5 id="1-3-4-1-微信支付-生成支付二维码"><a href="#1-3-4-1-微信支付-生成支付二维码" class="headerlink" title="1.3.4.1 微信支付 - 生成支付二维码"></a>1.3.4.1 微信支付 - 生成支付二维码</h5><h5 id="1-3-4-2-微信支付-商户回调地址与内网穿透"><a href="#1-3-4-2-微信支付-商户回调地址与内网穿透" class="headerlink" title="1.3.4.2 微信支付 - 商户回调地址与内网穿透"></a>1.3.4.2 微信支付 - 商户回调地址与内网穿透</h5><h5 id="1-3-4-3-支付宝支付-异步通知与同步通知"><a href="#1-3-4-3-支付宝支付-异步通知与同步通知" class="headerlink" title="1.3.4.3 支付宝支付 - 异步通知与同步通知"></a>1.3.4.3 支付宝支付 - 异步通知与同步通知</h5><h4 id="1-3-5-定时任务-定时关闭超期未支付订单"><a href="#1-3-5-定时任务-定时关闭超期未支付订单" class="headerlink" title="1.3.5 定时任务 - 定时关闭超期未支付订单"></a>1.3.5 定时任务 - 定时关闭超期未支付订单</h4><h5 id="1-3-5-1-定时任务-定时任务弊端与优化方案"><a href="#1-3-5-1-定时任务-定时任务弊端与优化方案" class="headerlink" title="1.3.5.1 定时任务 - 定时任务弊端与优化方案"></a>1.3.5.1 定时任务 - 定时任务弊端与优化方案</h5><h3 id="1-4-用户中心，订单-评价管理开发"><a href="#1-4-用户中心，订单-评价管理开发" class="headerlink" title="1.4 用户中心，订单/评价管理开发"></a>1.4 用户中心，订单/评价管理开发</h3><h4 id="1-4-1-用户中心-查询，修改用户信息"><a href="#1-4-1-用户中心-查询，修改用户信息" class="headerlink" title="1.4.1 用户中心 - 查询，修改用户信息"></a>1.4.1 用户中心 - 查询，修改用户信息</h4><h5 id="1-4-1-1-用户中心-使用Hibernate验证用户信息"><a href="#1-4-1-1-用户中心-使用Hibernate验证用户信息" class="headerlink" title="1.4.1.1 用户中心 - 使用Hibernate验证用户信息"></a>1.4.1.1 用户中心 - 使用Hibernate验证用户信息</h5><h4 id="1-4-2-上传头像-定义文件保存位置"><a href="#1-4-2-上传头像-定义文件保存位置" class="headerlink" title="1.4.2 上传头像 - 定义文件保存位置"></a>1.4.2 上传头像 - 定义文件保存位置</h4><h5 id="1-4-2-1-上传头像-图片格式限制以防后门"><a href="#1-4-2-1-上传头像-图片格式限制以防后门" class="headerlink" title="1.4.2.1 上传头像 - 图片格式限制以防后门"></a>1.4.2.1 上传头像 - 图片格式限制以防后门</h5><h5 id="1-4-2-2-上传头像-大小限制，以及自定义捕获异常"><a href="#1-4-2-2-上传头像-大小限制，以及自定义捕获异常" class="headerlink" title="1.4.2.2 上传头像 - 大小限制，以及自定义捕获异常"></a>1.4.2.2 上传头像 - 大小限制，以及自定义捕获异常</h5><h4 id="1-4-3-订单管理-查询我的订单Sql"><a href="#1-4-3-订单管理-查询我的订单Sql" class="headerlink" title="1.4.3 订单管理 - 查询我的订单Sql"></a>1.4.3 订单管理 - 查询我的订单Sql</h4><h5 id="1-4-3-1-订单管理-嵌套查询分页Bug解决方案"><a href="#1-4-3-1-订单管理-嵌套查询分页Bug解决方案" class="headerlink" title="1.4.3.1 订单管理 - 嵌套查询分页Bug解决方案"></a>1.4.3.1 订单管理 - 嵌套查询分页Bug解决方案</h5><h5 id="1-4-3-2-订单管理-操作订单前的验证"><a href="#1-4-3-2-订单管理-操作订单前的验证" class="headerlink" title="1.4.3.2 订单管理 - 操作订单前的验证"></a>1.4.3.2 订单管理 - 操作订单前的验证</h5><h4 id="1-4-4-评价管理-评价需求分析"><a href="#1-4-4-评价管理-评价需求分析" class="headerlink" title="1.4.4 评价管理 - 评价需求分析"></a>1.4.4 评价管理 - 评价需求分析</h4><h5 id="1-4-4-1-评价管理-待评价商品列表开发"><a href="#1-4-4-1-评价管理-待评价商品列表开发" class="headerlink" title="1.4.4.1 评价管理 - 待评价商品列表开发"></a>1.4.4.1 评价管理 - 待评价商品列表开发</h5><h5 id="1-4-4-2-评价管理-评价商品功能开发"><a href="#1-4-4-2-评价管理-评价商品功能开发" class="headerlink" title="1.4.4.2 评价管理 - 评价商品功能开发"></a>1.4.4.2 评价管理 - 评价商品功能开发</h5><h4 id="1-4-5-中心首页-订单状态接口联调"><a href="#1-4-5-中心首页-订单状态接口联调" class="headerlink" title="1.4.5 中心首页 - 订单状态接口联调"></a>1.4.5 中心首页 - 订单状态接口联调</h4><h5 id="1-4-5-1-中心首页-订单动向接口联调"><a href="#1-4-5-1-中心首页-订单动向接口联调" class="headerlink" title="1.4.5.1 中心首页 - 订单动向接口联调"></a>1.4.5.1 中心首页 - 订单动向接口联调</h5><h3 id="1-5-项目上线部署"><a href="#1-5-项目上线部署" class="headerlink" title="1.5 项目上线部署"></a>1.5 项目上线部署</h3><h4 id="1-5-1-云服务器购买及安装配置-JDK-Tomcat-MariaDB"><a href="#1-5-1-云服务器购买及安装配置-JDK-Tomcat-MariaDB" class="headerlink" title="1.5.1 云服务器购买及安装配置(JDK/Tomcat/MariaDB)"></a>1.5.1 云服务器购买及安装配置(JDK/Tomcat/MariaDB)</h4><h4 id="1-5-2-SpringBoot多环境部署profile-开发环境-生产环境"><a href="#1-5-2-SpringBoot多环境部署profile-开发环境-生产环境" class="headerlink" title="1.5.2 SpringBoot多环境部署profile(开发环境/生产环境)"></a>1.5.2 SpringBoot多环境部署profile(开发环境/生产环境)</h4><h4 id="1-5-3-SpringBoot项目打成war并发布到云服务器"><a href="#1-5-3-SpringBoot项目打成war并发布到云服务器" class="headerlink" title="1.5.3 SpringBoot项目打成war并发布到云服务器"></a>1.5.3 SpringBoot项目打成war并发布到云服务器</h4><h4 id="1-5-4-前端项目发布"><a href="#1-5-4-前端项目发布" class="headerlink" title="1.5.4 前端项目发布"></a>1.5.4 前端项目发布</h4><h4 id="1-5-5-解决Cookie异常，测试订单支付流程"><a href="#1-5-5-解决Cookie异常，测试订单支付流程" class="headerlink" title="1.5.5 解决Cookie异常，测试订单支付流程"></a>1.5.5 解决Cookie异常，测试订单支付流程</h4><h2 id="2-集群式高可用"><a href="#2-集群式高可用" class="headerlink" title="2. 集群式高可用"></a>2. 集群式高可用</h2><h3 id="2-1-LVS-Nginx实现集群高可用"><a href="#2-1-LVS-Nginx实现集群高可用" class="headerlink" title="2.1 LVS+Nginx实现集群高可用"></a>2.1 LVS+Nginx实现集群高可用</h3><h4 id="2-1-1-在Nginx中解决跨域问题"><a href="#2-1-1-在Nginx中解决跨域问题" class="headerlink" title="2.1.1 在Nginx中解决跨域问题"></a>2.1.1 在Nginx中解决跨域问题</h4><h5 id="2-1-1-1在Nginx中配置静态资源防盗链"><a href="#2-1-1-1在Nginx中配置静态资源防盗链" class="headerlink" title="2.1. 1.1在Nginx中配置静态资源防盗链"></a>2.1. 1.1在Nginx中配置静态资源防盗链</h5><h4 id="2-1-2-Nginx模块化设计"><a href="#2-1-2-Nginx模块化设计" class="headerlink" title="2.1.2 Nginx模块化设计"></a>2.1.2 Nginx模块化设计</h4><h5 id="2-1-2-1-Nginx集群负载均衡"><a href="#2-1-2-1-Nginx集群负载均衡" class="headerlink" title="2.1.2.1 Nginx集群负载均衡"></a>2.1.2.1 Nginx集群负载均衡</h5><h4 id="2-1-3-使用Nginx搭建3台Tomcat集群"><a href="#2-1-3-使用Nginx搭建3台Tomcat集群" class="headerlink" title="2.1. 3 使用Nginx搭建3台Tomcat集群"></a>2.1. 3 使用Nginx搭建3台Tomcat集群</h4><h5 id="2-1-3-1-使用JMeter测试单节点与集群并发异常率"><a href="#2-1-3-1-使用JMeter测试单节点与集群并发异常率" class="headerlink" title="2.1. 3.1 使用JMeter测试单节点与集群并发异常率"></a>2.1. 3.1 使用JMeter测试单节点与集群并发异常率</h5><h5 id="2-1-3-2-使用-Keepalived提高吞吐量"><a href="#2-1-3-2-使用-Keepalived提高吞吐量" class="headerlink" title="2.1. 3.2 使用 Keepalived提高吞吐量"></a>2.1. 3.2 使用 Keepalived提高吞吐量</h5><h4 id="2-1-4-负载均衡原理剖析-ip-hash-url-hash-与-least-conn"><a href="#2-1-4-负载均衡原理剖析-ip-hash-url-hash-与-least-conn" class="headerlink" title="2.1.4 负载均衡原理剖析 - ip_hash - url hash 与 least_conn"></a>2.1.4 负载均衡原理剖析 - ip_hash - url hash 与 least_conn</h4><h4 id="2-1-5-一致性hash算法讲解"><a href="#2-1-5-一致性hash算法讲解" class="headerlink" title="2.1.5 一致性hash算法讲解"></a>2.1.5 一致性hash算法讲解</h4><h4 id="2-1-6-Nginx控制浏览器缓存"><a href="#2-1-6-Nginx控制浏览器缓存" class="headerlink" title="2.1.6 Nginx控制浏览器缓存"></a>2.1.6 Nginx控制浏览器缓存</h4><h5 id="2-1-6-1-Nginx反向代理缓存"><a href="#2-1-6-1-Nginx反向代理缓存" class="headerlink" title="2.1.6.1 Nginx反向代理缓存"></a>2.1.6.1 Nginx反向代理缓存</h5><h5 id="2-1-6-2-使用Nginx配置SSL证书提供HTTPS访问"><a href="#2-1-6-2-使用Nginx配置SSL证书提供HTTPS访问" class="headerlink" title="2.1.6.2 使用Nginx配置SSL证书提供HTTPS访问"></a>2.1.6.2 使用Nginx配置SSL证书提供HTTPS访问</h5><h5 id="2-1-6-3-Nginx单实例存在的问题与集群原理详解"><a href="#2-1-6-3-Nginx单实例存在的问题与集群原理详解" class="headerlink" title="2.1.6.3 Nginx单实例存在的问题与集群原理详解"></a>2.1.6.3 Nginx单实例存在的问题与集群原理详解</h5><h5 id="2-1-6-4-心跳机制与自动重启实现"><a href="#2-1-6-4-心跳机制与自动重启实现" class="headerlink" title="2.1.6.4 心跳机制与自动重启实现"></a>2.1.6.4 心跳机制与自动重启实现</h5><h4 id="2-1-7-动静分离的那些事儿"><a href="#2-1-7-动静分离的那些事儿" class="headerlink" title="2.1.7 动静分离的那些事儿"></a>2.1.7 动静分离的那些事儿</h4><h5 id="2-1-7-1-部署Nginx到云端-实现动静分离与虚拟主机"><a href="#2-1-7-1-部署Nginx到云端-实现动静分离与虚拟主机" class="headerlink" title="2.1.7.1 部署Nginx到云端 - 实现动静分离与虚拟主机"></a>2.1.7.1 部署Nginx到云端 - 实现动静分离与虚拟主机</h5><h5 id="2-1-7-2-部署Nginx到云端-测试与日志调试"><a href="#2-1-7-2-部署Nginx到云端-测试与日志调试" class="headerlink" title="2.1.7.2 部署Nginx到云端 - 测试与日志调试"></a>2.1.7.2 部署Nginx到云端 - 测试与日志调试</h5><h5 id="2-1-7-3-实现Keepalived高可用双机主备"><a href="#2-1-7-3-实现Keepalived高可用双机主备" class="headerlink" title="2.1.7.3 实现Keepalived高可用双机主备"></a>2.1.7.3 实现Keepalived高可用双机主备</h5><h5 id="2-1-7-4-实现Keepalived高可用双机热备"><a href="#2-1-7-4-实现Keepalived高可用双机热备" class="headerlink" title="2.1.7.4 实现Keepalived高可用双机热备"></a>2.1.7.4 实现Keepalived高可用双机热备</h5><h5 id="2-1-7-5-LVS-Keepalived-Nginx实现高可用集群—负载均衡"><a href="#2-1-7-5-LVS-Keepalived-Nginx实现高可用集群—负载均衡" class="headerlink" title="2.1.7.5 LVS+Keepalived+Nginx实现高可用集群—负载均衡"></a>2.1.7.5 LVS+Keepalived+Nginx实现高可用集群—负载均衡</h5><h3 id="2-2-主从复制高可用Redis集群"><a href="#2-2-主从复制高可用Redis集群" class="headerlink" title="2.2 主从复制高可用Redis集群"></a>2.2 主从复制高可用Redis集群</h3><h4 id="2-2-1-Redis架构与原理解析"><a href="#2-2-1-Redis架构与原理解析" class="headerlink" title="2.2.1 Redis架构与原理解析"></a>2.2.1 Redis架构与原理解析</h4><h4 id="2-2-2-在SpringBoot中整合Redis实现数据存取"><a href="#2-2-2-在SpringBoot中整合Redis实现数据存取" class="headerlink" title="2.2.2 在SpringBoot中整合Redis实现数据存取"></a>2.2.2 在SpringBoot中整合Redis实现数据存取</h4><h5 id="2-2-2-1-基于Redis优化首页轮播图和分类查询"><a href="#2-2-2-1-基于Redis优化首页轮播图和分类查询" class="headerlink" title="2.2.2.1 基于Redis优化首页轮播图和分类查询"></a>2.2.2.1 基于Redis优化首页轮播图和分类查询</h5><h5 id="2-2-2-2-在Redis中实现订阅功能"><a href="#2-2-2-2-在Redis中实现订阅功能" class="headerlink" title="2.2.2.2 在Redis中实现订阅功能"></a>2.2.2.2 在Redis中实现订阅功能</h5><h5 id="2-2-2-3-Redis中RDB-AOF持久化工作原理解析"><a href="#2-2-2-3-Redis中RDB-AOF持久化工作原理解析" class="headerlink" title="2.2.2.3 Redis中RDB,AOF持久化工作原理解析"></a>2.2.2.3 Redis中RDB,AOF持久化工作原理解析</h5><h5 id="2-2-2-4-Redis主从架构模式讲解"><a href="#2-2-2-4-Redis主从架构模式讲解" class="headerlink" title="2.2.2.4 Redis主从架构模式讲解"></a>2.2.2.4 Redis主从架构模式讲解</h5><h5 id="2-2-2-5-Redis主从复制-无磁盘化复制原理解析"><a href="#2-2-2-5-Redis主从复制-无磁盘化复制原理解析" class="headerlink" title="2.2.2.5 Redis主从复制,无磁盘化复制原理解析"></a>2.2.2.5 Redis主从复制,无磁盘化复制原理解析</h5><h5 id="2-2-2-6-过期的缓存Key处理方案"><a href="#2-2-2-6-过期的缓存Key处理方案" class="headerlink" title="2.2.2.6 过期的缓存Key处理方案"></a>2.2.2.6 过期的缓存Key处理方案</h5><h4 id="2-2-3-Redis哨兵机制与原理解析"><a href="#2-2-3-Redis哨兵机制与原理解析" class="headerlink" title="2.2.3 Redis哨兵机制与原理解析"></a>2.2.3 Redis哨兵机制与原理解析</h4><h5 id="2-2-3-1-Redis哨兵落地实现"><a href="#2-2-3-1-Redis哨兵落地实现" class="headerlink" title="2.2.3.1 Redis哨兵落地实现"></a>2.2.3.1 Redis哨兵落地实现</h5><h5 id="2-2-3-2-Redis集群解决方案设计"><a href="#2-2-3-2-Redis集群解决方案设计" class="headerlink" title="2.2.3.2 Redis集群解决方案设计"></a>2.2.3.2 Redis集群解决方案设计</h5><h5 id="2-2-3-3-Redis集群原理解析"><a href="#2-2-3-3-Redis集群原理解析" class="headerlink" title="2.2.3.3 Redis集群原理解析"></a>2.2.3.3 Redis集群原理解析</h5><h5 id="2-2-3-4-主从复制高可用Redis集群搭建"><a href="#2-2-3-4-主从复制高可用Redis集群搭建" class="headerlink" title="2.2.3.4 主从复制高可用Redis集群搭建"></a>2.2.3.4 主从复制高可用Redis集群搭建</h5><h5 id="2-2-3-5-SpringBoot集成Redis集群环境"><a href="#2-2-3-5-SpringBoot集成Redis集群环境" class="headerlink" title="2.2.3.5 SpringBoot集成Redis集群环境"></a>2.2.3.5 SpringBoot集成Redis集群环境</h5><h3 id="2-3-Redis缓存雪崩，穿透"><a href="#2-3-Redis缓存雪崩，穿透" class="headerlink" title="2.3 Redis缓存雪崩，穿透"></a>2.3 Redis缓存雪崩，穿透</h3><h4 id="2-3-1-缓存雪崩现象解析"><a href="#2-3-1-缓存雪崩现象解析" class="headerlink" title="2.3.1 缓存雪崩现象解析"></a>2.3.1 缓存雪崩现象解析</h4><h4 id="2-3-2-缓存雪崩的解决方案与落地"><a href="#2-3-2-缓存雪崩的解决方案与落地" class="headerlink" title="2.3.2 缓存雪崩的解决方案与落地"></a>2.3.2 缓存雪崩的解决方案与落地</h4><h4 id="2-3-3-缓存穿透的解决方案与落地"><a href="#2-3-3-缓存穿透的解决方案与落地" class="headerlink" title="2.3.3 缓存穿透的解决方案与落地"></a>2.3.3 缓存穿透的解决方案与落地</h4><h4 id="2-3-4-拔高-Redis批量查询的优化设计"><a href="#2-3-4-拔高-Redis批量查询的优化设计" class="headerlink" title="2.3.4 拔高-Redis批量查询的优化设计"></a>2.3.4 拔高-Redis批量查询的优化设计</h4><h2 id="3-分布式技术要点"><a href="#3-分布式技术要点" class="headerlink" title="3. 分布式技术要点"></a>3. 分布式技术要点</h2><h3 id="3-1-分布式会话与单点登录SSO"><a href="#3-1-分布式会话与单点登录SSO" class="headerlink" title="3.1 分布式会话与单点登录SSO"></a>3.1 分布式会话与单点登录SSO</h3><h4 id="3-1-1-有状态会话和无状态会话区别"><a href="#3-1-1-有状态会话和无状态会话区别" class="headerlink" title="3.1.1 有状态会话和无状态会话区别"></a>3.1.1 有状态会话和无状态会话区别</h4><h4 id="3-1-2-动静分离架构下的用户会话解决方案"><a href="#3-1-2-动静分离架构下的用户会话解决方案" class="headerlink" title="3.1.2 动静分离架构下的用户会话解决方案"></a>3.1.2 动静分离架构下的用户会话解决方案</h4><h5 id="3-1-2-1-集群与分布式系统中的用户会话解决方案"><a href="#3-1-2-1-集群与分布式系统中的用户会话解决方案" class="headerlink" title="3.1.2.1 集群与分布式系统中的用户会话解决方案"></a>3.1.2.1 集群与分布式系统中的用户会话解决方案</h5><h5 id="3-1-2-2-单个Tomcat会话和全局Redis会话关系"><a href="#3-1-2-2-单个Tomcat会话和全局Redis会话关系" class="headerlink" title="3.1.2.2 单个Tomcat会话和全局Redis会话关系"></a>3.1.2.2 单个Tomcat会话和全局Redis会话关系</h5><h5 id="3-1-2-3-通过Redis-Cookie来实现前后端分离与分布式会话"><a href="#3-1-2-3-通过Redis-Cookie来实现前后端分离与分布式会话" class="headerlink" title="3.1.2.3 通过Redis+Cookie来实现前后端分离与分布式会话"></a>3.1.2.3 通过Redis+Cookie来实现前后端分离与分布式会话</h5><h4 id="3-1-3-配置用户权限拦截器"><a href="#3-1-3-配置用户权限拦截器" class="headerlink" title="3.1.3 配置用户权限拦截器"></a>3.1.3 配置用户权限拦截器</h4><h5 id="3-1-3-1-单点登录的作用，为何使用SSO"><a href="#3-1-3-1-单点登录的作用，为何使用SSO" class="headerlink" title="3.1.3.1 单点登录的作用，为何使用SSO"></a>3.1.3.1 单点登录的作用，为何使用SSO</h5><h5 id="3-1-3-2-多系统跨域的用户会话问题"><a href="#3-1-3-2-多系统跨域的用户会话问题" class="headerlink" title="3.1.3.2 多系统跨域的用户会话问题"></a>3.1.3.2 多系统跨域的用户会话问题</h5><h5 id="3-1-3-3-常见的会话跨域形式（Session-共享）"><a href="#3-1-3-3-常见的会话跨域形式（Session-共享）" class="headerlink" title="3.1.3.3 常见的会话跨域形式（Session 共享）"></a>3.1.3.3 常见的会话跨域形式（Session 共享）</h5><h5 id="3-1-3-4-Cookie实现Session跨域与原理"><a href="#3-1-3-4-Cookie实现Session跨域与原理" class="headerlink" title="3.1.3.4 Cookie实现Session跨域与原理"></a>3.1.3.4 Cookie实现Session跨域与原理</h5><h5 id="3-1-3-5-spring-session实现与原理"><a href="#3-1-3-5-spring-session实现与原理" class="headerlink" title="3.1.3.5 spring-session实现与原理"></a>3.1.3.5 spring-session实现与原理</h5><h3 id="3-2-分布式搜索引擎—ES"><a href="#3-2-分布式搜索引擎—ES" class="headerlink" title="3.2 分布式搜索引擎—ES"></a>3.2 分布式搜索引擎—ES</h3><h4 id="3-2-1-ES架构与原理解析"><a href="#3-2-1-ES架构与原理解析" class="headerlink" title="3.2.1 ES架构与原理解析"></a>3.2.1 ES架构与原理解析</h4><h4 id="3-2-2-ES健康状况详解"><a href="#3-2-2-ES健康状况详解" class="headerlink" title="3.2.2 ES健康状况详解"></a>3.2.2 ES健康状况详解</h4><h5 id="3-2-2-1-dsl搜索-分词，分页，多关键字匹配，布尔查询"><a href="#3-2-2-1-dsl搜索-分词，分页，多关键字匹配，布尔查询" class="headerlink" title="3.2.2.1 dsl搜索(分词，分页，多关键字匹配，布尔查询)"></a>3.2.2.1 dsl搜索(分词，分页，多关键字匹配，布尔查询)</h5><h5 id="3-2-2-2-出现不合法搜索如何定位问题"><a href="#3-2-2-2-出现不合法搜索如何定位问题" class="headerlink" title="3.2.2.2 出现不合法搜索如何定位问题"></a>3.2.2.2 出现不合法搜索如何定位问题</h5><h4 id="3-2-3-ES集群原理，shard与replica"><a href="#3-2-3-ES集群原理，shard与replica" class="headerlink" title="3.2.3 ES集群原理，shard与replica"></a>3.2.3 ES集群原理，shard与replica</h4><h5 id="3-2-3-1-集成ES集群故障之节点宕机"><a href="#3-2-3-1-集成ES集群故障之节点宕机" class="headerlink" title="3.2.3.1 集成ES集群故障之节点宕机"></a>3.2.3.1 集成ES集群故障之节点宕机</h5><h5 id="3-2-3-2-集成ES集群故障之脑裂问题探讨"><a href="#3-2-3-2-集成ES集群故障之脑裂问题探讨" class="headerlink" title="3.2.3.2 集成ES集群故障之脑裂问题探讨"></a>3.2.3.2 集成ES集群故障之脑裂问题探讨</h5><h5 id="3-2-3-3-集群环境中（分布式）文档的存取原理"><a href="#3-2-3-3-集群环境中（分布式）文档的存取原理" class="headerlink" title="3.2.3.3 集群环境中（分布式）文档的存取原理"></a>3.2.3.3 集群环境中（分布式）文档的存取原理</h5><h4 id="3-2-4-MySql和ES进行数据同步的方案分析"><a href="#3-2-4-MySql和ES进行数据同步的方案分析" class="headerlink" title="3.2.4 MySql和ES进行数据同步的方案分析"></a>3.2.4 MySql和ES进行数据同步的方案分析</h4><h5 id="3-2-4-1-基于Logstash进行数据同步"><a href="#3-2-4-1-基于Logstash进行数据同步" class="headerlink" title="3.2.4.1 基于Logstash进行数据同步"></a>3.2.4.1 基于Logstash进行数据同步</h5><h5 id="3-2-4-2-基于ES实现商品搜索与分类搜索"><a href="#3-2-4-2-基于ES实现商品搜索与分类搜索" class="headerlink" title="3.2.4.2 基于ES实现商品搜索与分类搜索"></a>3.2.4.2 基于ES实现商品搜索与分类搜索</h5><h4 id="3-2-5-ES深度分页下会带来怎样的性能问题"><a href="#3-2-5-ES深度分页下会带来怎样的性能问题" class="headerlink" title="3.2.5 ES深度分页下会带来怎样的性能问题"></a>3.2.5 ES深度分页下会带来怎样的性能问题</h4><h5 id="3-2-5-1-大数据量下该如何使用Scoll滚动技术进行搜索"><a href="#3-2-5-1-大数据量下该如何使用Scoll滚动技术进行搜索" class="headerlink" title="3.2.5.1 大数据量下该如何使用Scoll滚动技术进行搜索"></a>3.2.5.1 大数据量下该如何使用Scoll滚动技术进行搜索</h5><h5 id="3-2-5-2-ES拓展-基于Geo的地理坐标搜索实现"><a href="#3-2-5-2-ES拓展-基于Geo的地理坐标搜索实现" class="headerlink" title="3.2.5.2 ES拓展 - 基于Geo的地理坐标搜索实现"></a>3.2.5.2 ES拓展 - 基于Geo的地理坐标搜索实现</h5><h5 id="3-2-5-3-ES拓展-社交案例，距离我几公里内的好友"><a href="#3-2-5-3-ES拓展-社交案例，距离我几公里内的好友" class="headerlink" title="3.2.5.3 ES拓展 - 社交案例，距离我几公里内的好友"></a>3.2.5.3 ES拓展 - 社交案例，距离我几公里内的好友</h5><h3 id="3-3-分布式文件系统—FastDFS-OSS-对象存储"><a href="#3-3-分布式文件系统—FastDFS-OSS-对象存储" class="headerlink" title="3.3 分布式文件系统—FastDFS+OSS(对象存储)"></a>3.3 分布式文件系统—FastDFS+OSS(对象存储)</h3><h4 id="3-3-1-以架构师角度分析目前文件上传所存在的问题"><a href="#3-3-1-以架构师角度分析目前文件上传所存在的问题" class="headerlink" title="3.3.1 以架构师角度分析目前文件上传所存在的问题"></a>3.3.1 以架构师角度分析目前文件上传所存在的问题</h4><h4 id="3-3-2-分布式文件系统技术选型：FastDFS-VS-阿里OSS"><a href="#3-3-2-分布式文件系统技术选型：FastDFS-VS-阿里OSS" class="headerlink" title="3.3.2 分布式文件系统技术选型：FastDFS VS 阿里OSS"></a>3.3.2 分布式文件系统技术选型：FastDFS VS 阿里OSS</h4><h5 id="3-3-2-1-FastDFS架构与原理解析"><a href="#3-3-2-1-FastDFS架构与原理解析" class="headerlink" title="3.3.2.1 FastDFS架构与原理解析"></a>3.3.2.1 FastDFS架构与原理解析</h5><h5 id="3-3-2-2-Nginx-FastDFS-实现文件服务器"><a href="#3-3-2-2-Nginx-FastDFS-实现文件服务器" class="headerlink" title="3.3.2.2 Nginx + FastDFS 实现文件服务器"></a>3.3.2.2 Nginx + FastDFS 实现文件服务器</h5><h5 id="3-3-2-3-FastDFS整合SpringBoot，修改项目中文件上传"><a href="#3-3-2-3-FastDFS整合SpringBoot，修改项目中文件上传" class="headerlink" title="3.3.2.3 FastDFS整合SpringBoot，修改项目中文件上传"></a>3.3.2.3 FastDFS整合SpringBoot，修改项目中文件上传</h5><h4 id="3-3-3-第三方图片存储解决方案"><a href="#3-3-3-第三方图片存储解决方案" class="headerlink" title="3.3.3 第三方图片存储解决方案"></a>3.3.3 第三方图片存储解决方案</h4><h5 id="3-3-3-1-阿里OSS存储与实现原理"><a href="#3-3-3-1-阿里OSS存储与实现原理" class="headerlink" title="3.3.3.1 阿里OSS存储与实现原理"></a>3.3.3.1 阿里OSS存储与实现原理</h5><h5 id="3-3-3-2-SpringBoot整合阿里OSS-SDK与API"><a href="#3-3-3-2-SpringBoot整合阿里OSS-SDK与API" class="headerlink" title="3.3.3.2 SpringBoot整合阿里OSS SDK与API"></a>3.3.3.2 SpringBoot整合阿里OSS SDK与API</h5><h5 id="3-3-3-3-实现图片上传到OSS中"><a href="#3-3-3-3-实现图片上传到OSS中" class="headerlink" title="3.3.3.3 实现图片上传到OSS中"></a>3.3.3.3 实现图片上传到OSS中</h5><h5 id="3-3-3-4-在生产环境中切换文件存储为FastDFS"><a href="#3-3-3-4-在生产环境中切换文件存储为FastDFS" class="headerlink" title="3.3.3.4 在生产环境中切换文件存储为FastDFS"></a>3.3.3.4 在生产环境中切换文件存储为FastDFS</h5><h3 id="3-4-分布式消息队列—RabbitMQ"><a href="#3-4-分布式消息队列—RabbitMQ" class="headerlink" title="3.4 分布式消息队列—RabbitMQ"></a>3.4 分布式消息队列—RabbitMQ</h3><h4 id="3-4-1-业界主流消息队列与技术选型"><a href="#3-4-1-业界主流消息队列与技术选型" class="headerlink" title="3.4.1 业界主流消息队列与技术选型"></a>3.4.1 业界主流消息队列与技术选型</h4><h4 id="3-4-2-ActiveMQ集群架构与原理解析"><a href="#3-4-2-ActiveMQ集群架构与原理解析" class="headerlink" title="3.4.2 ActiveMQ集群架构与原理解析"></a>3.4.2 ActiveMQ集群架构与原理解析</h4><h5 id="3-4-2-1-RabbitMQ集群架构与原理解析"><a href="#3-4-2-1-RabbitMQ集群架构与原理解析" class="headerlink" title="3.4.2.1 RabbitMQ集群架构与原理解析"></a>3.4.2.1 RabbitMQ集群架构与原理解析</h5><h5 id="3-4-2-2-RocketMQ集群架构与原理解析"><a href="#3-4-2-2-RocketMQ集群架构与原理解析" class="headerlink" title="3.4.2.2 RocketMQ集群架构与原理解析"></a>3.4.2.2 RocketMQ集群架构与原理解析</h5><h5 id="3-4-2-3-Kafka集群架构与原理解析"><a href="#3-4-2-3-Kafka集群架构与原理解析" class="headerlink" title="3.4.2.3 Kafka集群架构与原理解析"></a>3.4.2.3 Kafka集群架构与原理解析</h5><h4 id="3-4-3-RabbitMQ核心API与高级特性"><a href="#3-4-3-RabbitMQ核心API与高级特性" class="headerlink" title="3.4.3 RabbitMQ核心API与高级特性"></a>3.4.3 RabbitMQ核心API与高级特性</h4><h5 id="3-4-3-1-RabbitMQ与SpringBoot整合实战（生产端，消费端）"><a href="#3-4-3-1-RabbitMQ与SpringBoot整合实战（生产端，消费端）" class="headerlink" title="3.4.3.1 RabbitMQ与SpringBoot整合实战（生产端，消费端）"></a>3.4.3.1 RabbitMQ与SpringBoot整合实战（生产端，消费端）</h5><h5 id="3-4-3-2-RabbitMQ镜像队列集群构建"><a href="#3-4-3-2-RabbitMQ镜像队列集群构建" class="headerlink" title="3.4.3.2 RabbitMQ镜像队列集群构建"></a>3.4.3.2 RabbitMQ镜像队列集群构建</h5><h5 id="3-4-3-3-RabbitMQ消息可靠性投递机制实战"><a href="#3-4-3-3-RabbitMQ消息可靠性投递机制实战" class="headerlink" title="3.4.3.3 RabbitMQ消息可靠性投递机制实战"></a>3.4.3.3 RabbitMQ消息可靠性投递机制实战</h5><h4 id="3-4-4-作为架构师如何去进行高层次的抽象公共API封装-消息序列化"><a href="#3-4-4-作为架构师如何去进行高层次的抽象公共API封装-消息序列化" class="headerlink" title="3.4.4 作为架构师如何去进行高层次的抽象公共API封装,消息序列化"></a>3.4.4 作为架构师如何去进行高层次的抽象公共API封装,消息序列化</h4><h5 id="3-4-4-1-生产端SDK自动装配与架构接口定义"><a href="#3-4-4-1-生产端SDK自动装配与架构接口定义" class="headerlink" title="3.4.4.1 生产端SDK自动装配与架构接口定义"></a>3.4.4.1 生产端SDK自动装配与架构接口定义</h5><h5 id="3-4-4-2-生产端发送迅速异步消息"><a href="#3-4-4-2-生产端发送迅速异步消息" class="headerlink" title="3.4.4.2 生产端发送迅速异步消息"></a>3.4.4.2 生产端发送迅速异步消息</h5><h5 id="3-4-4-3-生产端RabbitTemplate池化封装"><a href="#3-4-4-3-生产端RabbitTemplate池化封装" class="headerlink" title="3.4.4.3 生产端RabbitTemplate池化封装"></a>3.4.4.3 生产端RabbitTemplate池化封装</h5><h5 id="3-4-4-4-生产端消息序列化反序列化转换封装"><a href="#3-4-4-4-生产端消息序列化反序列化转换封装" class="headerlink" title="3.4.4.4 生产端消息序列化反序列化转换封装"></a>3.4.4.4 生产端消息序列化反序列化转换封装</h5><h5 id="3-4-4-5-RabbitMQ基础组件封装-基础组件应用演练"><a href="#3-4-4-5-RabbitMQ基础组件封装-基础组件应用演练" class="headerlink" title="3.4.4.5 RabbitMQ基础组件封装-基础组件应用演练"></a>3.4.4.5 RabbitMQ基础组件封装-基础组件应用演练</h5><h4 id="3-4-5-分布式定时任务组件封装"><a href="#3-4-5-分布式定时任务组件封装" class="headerlink" title="3.4.5 分布式定时任务组件封装"></a>3.4.5 分布式定时任务组件封装</h4><h5 id="3-4-5-1-可靠性消息重试实现集成定时任务组件"><a href="#3-4-5-1-可靠性消息重试实现集成定时任务组件" class="headerlink" title="3.4.5.1 可靠性消息重试实现集成定时任务组件"></a>3.4.5.1 可靠性消息重试实现集成定时任务组件</h5><h5 id="3-4-5-2-批量，延迟消息应用与封装实现"><a href="#3-4-5-2-批量，延迟消息应用与封装实现" class="headerlink" title="3.4.5.2 批量，延迟消息应用与封装实现"></a>3.4.5.2 批量，延迟消息应用与封装实现</h5><h3 id="3-5-分布式消息队列—Kafka"><a href="#3-5-分布式消息队列—Kafka" class="headerlink" title="3.5 分布式消息队列—Kafka"></a>3.5 分布式消息队列—Kafka</h3><h4 id="3-5-1-Kafka核心API"><a href="#3-5-1-Kafka核心API" class="headerlink" title="3.5.1 Kafka核心API"></a>3.5.1 Kafka核心API</h4><h5 id="3-5-1-1-Kafka与SpringBoot整合实战"><a href="#3-5-1-1-Kafka与SpringBoot整合实战" class="headerlink" title="3.5.1.1 Kafka与SpringBoot整合实战"></a>3.5.1.1 Kafka与SpringBoot整合实战</h5><h4 id="3-5-2-Kafka高吞吐量-海量日志收集架构设计"><a href="#3-5-2-Kafka高吞吐量-海量日志收集架构设计" class="headerlink" title="3.5.2 Kafka高吞吐量-海量日志收集架构设计"></a>3.5.2 Kafka高吞吐量-海量日志收集架构设计</h4><h5 id="3-5-2-1-Kafka高吞吐量-日志输出-Log4j2）"><a href="#3-5-2-1-Kafka高吞吐量-日志输出-Log4j2）" class="headerlink" title="3.5.2.1 Kafka高吞吐量-日志输出(Log4j2）"></a>3.5.2.1 Kafka高吞吐量-日志输出(Log4j2）</h5><h5 id="3-5-2-2-Kafka高吞吐量-日志收集-FileBeat）"><a href="#3-5-2-2-Kafka高吞吐量-日志收集-FileBeat）" class="headerlink" title="3.5.2.2 Kafka高吞吐量-日志收集(FileBeat）"></a>3.5.2.2 Kafka高吞吐量-日志收集(FileBeat）</h5><h5 id="3-5-2-3-Kafka高吞吐量-日志过滤-Logstash"><a href="#3-5-2-3-Kafka高吞吐量-日志过滤-Logstash" class="headerlink" title="3.5.2.3 Kafka高吞吐量-日志过滤(Logstash)"></a>3.5.2.3 Kafka高吞吐量-日志过滤(Logstash)</h5><h5 id="3-5-2-4-Kafka高吞吐量-日志持久化-Elasticsearch"><a href="#3-5-2-4-Kafka高吞吐量-日志持久化-Elasticsearch" class="headerlink" title="3.5.2.4 Kafka高吞吐量-日志持久化(Elasticsearch)"></a>3.5.2.4 Kafka高吞吐量-日志持久化(Elasticsearch)</h5><h5 id="3-5-2-5-Kafka高吞吐量-日志可视化-Kibana"><a href="#3-5-2-5-Kafka高吞吐量-日志可视化-Kibana" class="headerlink" title="3.5.2.5 Kafka高吞吐量-日志可视化(Kibana)"></a>3.5.2.5 Kafka高吞吐量-日志可视化(Kibana)</h5><h4 id="3-5-3-Kafka监控告警watcher监控告警实战"><a href="#3-5-3-Kafka监控告警watcher监控告警实战" class="headerlink" title="3.5.3 Kafka监控告警watcher监控告警实战"></a>3.5.3 Kafka监控告警watcher监控告警实战</h4><h3 id="3-6-分布式锁"><a href="#3-6-分布式锁" class="headerlink" title="3.6 分布式锁"></a>3.6 分布式锁</h3><h4 id="3-6-1-如何使用锁解决电商项目产生的超卖问题？"><a href="#3-6-1-如何使用锁解决电商项目产生的超卖问题？" class="headerlink" title="3.6.1 如何使用锁解决电商项目产生的超卖问题？"></a>3.6.1 如何使用锁解决电商项目产生的超卖问题？</h4><h5 id="3-6-1-1-基于Synchronized锁解决超卖问题（最原始的锁）"><a href="#3-6-1-1-基于Synchronized锁解决超卖问题（最原始的锁）" class="headerlink" title="3.6.1.1 基于Synchronized锁解决超卖问题（最原始的锁）"></a>3.6.1.1 基于Synchronized锁解决超卖问题（最原始的锁）</h5><h5 id="3-6-1-2-基于ReentrantLock锁解决超卖问题（并发包中的锁）"><a href="#3-6-1-2-基于ReentrantLock锁解决超卖问题（并发包中的锁）" class="headerlink" title="3.6.1.2 基于ReentrantLock锁解决超卖问题（并发包中的锁）"></a>3.6.1.2 基于ReentrantLock锁解决超卖问题（并发包中的锁）</h5><h4 id="3-6-2-乐观锁与悲观锁，公平锁与非公平锁"><a href="#3-6-2-乐观锁与悲观锁，公平锁与非公平锁" class="headerlink" title="3.6.2 乐观锁与悲观锁，公平锁与非公平锁"></a>3.6.2 乐观锁与悲观锁，公平锁与非公平锁</h4><h5 id="3-6-2-1-单体应用锁局限性分析-amp-解决方案"><a href="#3-6-2-1-单体应用锁局限性分析-amp-解决方案" class="headerlink" title="3.6.2.1 单体应用锁局限性分析&amp;解决方案"></a>3.6.2.1 单体应用锁局限性分析&amp;解决方案</h5><h5 id="3-6-2-2-基于数据库的悲观锁实现分布式锁"><a href="#3-6-2-2-基于数据库的悲观锁实现分布式锁" class="headerlink" title="3.6.2.2 基于数据库的悲观锁实现分布式锁"></a>3.6.2.2 基于数据库的悲观锁实现分布式锁</h5><h5 id="3-6-2-3-基于Redis的setnx实现分布式锁"><a href="#3-6-2-3-基于Redis的setnx实现分布式锁" class="headerlink" title="3.6.2.3 基于Redis的setnx实现分布式锁"></a>3.6.2.3 基于Redis的setnx实现分布式锁</h5><h5 id="3-6-2-4-基于Zookeeper的瞬时节点实现分布式锁"><a href="#3-6-2-4-基于Zookeeper的瞬时节点实现分布式锁" class="headerlink" title="3.6.2.4 基于Zookeeper的瞬时节点实现分布式锁"></a>3.6.2.4 基于Zookeeper的瞬时节点实现分布式锁</h5><h5 id="3-6-2-5-基于Zookeeper的客户端Curator实现分布式锁"><a href="#3-6-2-5-基于Zookeeper的客户端Curator实现分布式锁" class="headerlink" title="3.6.2.5 基于Zookeeper的客户端Curator实现分布式锁"></a>3.6.2.5 基于Zookeeper的客户端Curator实现分布式锁</h5><h5 id="3-6-5-6-基于Redis的Java客户端Redisson实现分布式锁"><a href="#3-6-5-6-基于Redis的Java客户端Redisson实现分布式锁" class="headerlink" title="3.6.5.6 基于Redis的Java客户端Redisson实现分布式锁"></a>3.6.5.6 基于Redis的Java客户端Redisson实现分布式锁</h5><h4 id="3-6-3-如何在电商项目中引入Redisson分布式锁"><a href="#3-6-3-如何在电商项目中引入Redisson分布式锁" class="headerlink" title="3.6.3 如何在电商项目中引入Redisson分布式锁"></a>3.6.3 如何在电商项目中引入Redisson分布式锁</h4><h5 id="3-6-3-1-多种分布式锁技术实现方案，如何选择"><a href="#3-6-3-1-多种分布式锁技术实现方案，如何选择" class="headerlink" title="3.6.3.1 多种分布式锁技术实现方案，如何选择?"></a>3.6.3.1 多种分布式锁技术实现方案，如何选择?</h5><h3 id="3-7-读写分离，分库分表"><a href="#3-7-读写分离，分库分表" class="headerlink" title="3.7 读写分离，分库分表"></a>3.7 读写分离，分库分表</h3><h4 id="3-7-1-如何选择垂直切分、水平切分"><a href="#3-7-1-如何选择垂直切分、水平切分" class="headerlink" title="3.7.1 如何选择垂直切分、水平切分"></a>3.7.1 如何选择垂直切分、水平切分</h4><h4 id="3-7-2-MyCAT快速体验"><a href="#3-7-2-MyCAT快速体验" class="headerlink" title="3.7.2 MyCAT快速体验"></a>3.7.2 MyCAT快速体验</h4><h5 id="3-7-2-1-MyCAT用户配置"><a href="#3-7-2-1-MyCAT用户配置" class="headerlink" title="3.7.2.1 MyCAT用户配置"></a>3.7.2.1 MyCAT用户配置</h5><h5 id="3-7-2-2-MyCAT的schema配置实操"><a href="#3-7-2-2-MyCAT的schema配置实操" class="headerlink" title="3.7.2.2 MyCAT的schema配置实操"></a>3.7.2.2 MyCAT的schema配置实操</h5><h5 id="3-7-2-3-MySql主从配置"><a href="#3-7-2-3-MySql主从配置" class="headerlink" title="3.7.2.3 MySql主从配置"></a>3.7.2.3 MySql主从配置</h5><h4 id="3-7-3-MyCAT分片规则配置（枚举分片、取模）"><a href="#3-7-3-MyCAT分片规则配置（枚举分片、取模）" class="headerlink" title="3.7.3 MyCAT分片规则配置（枚举分片、取模）"></a>3.7.3 MyCAT分片规则配置（枚举分片、取模）</h4><h5 id="3-7-3-1-MyCAT全局表、子表"><a href="#3-7-3-1-MyCAT全局表、子表" class="headerlink" title="3.7.3.1 MyCAT全局表、子表"></a>3.7.3.1 MyCAT全局表、子表</h5><h5 id="3-7-3-2-MyCAT高可用架构原理解析"><a href="#3-7-3-2-MyCAT高可用架构原理解析" class="headerlink" title="3.7.3.2 MyCAT高可用架构原理解析"></a>3.7.3.2 MyCAT高可用架构原理解析</h5><h5 id="3-7-3-3-MyCAT高可用架构-反向代理-HAProxy"><a href="#3-7-3-3-MyCAT高可用架构-反向代理-HAProxy" class="headerlink" title="3.7.3.3 MyCAT高可用架构-反向代理(HAProxy)"></a>3.7.3.3 MyCAT高可用架构-反向代理(HAProxy)</h5><h4 id="3-7-4-Sharding-JDBC分片表-（Spring和SpringBoot）"><a href="#3-7-4-Sharding-JDBC分片表-（Spring和SpringBoot）" class="headerlink" title="3.7.4 Sharding-JDBC分片表 （Spring和SpringBoot）"></a>3.7.4 Sharding-JDBC分片表 （Spring和SpringBoot）</h4><h5 id="3-7-4-1-Sharding-JDBC全局表（Spring和SpringBoot）"><a href="#3-7-4-1-Sharding-JDBC全局表（Spring和SpringBoot）" class="headerlink" title="3.7.4.1 Sharding-JDBC全局表（Spring和SpringBoot）"></a>3.7.4.1 Sharding-JDBC全局表（Spring和SpringBoot）</h5><h5 id="3-7-4-2-Sharding-JDBC子表（Spring和SpringBoot）"><a href="#3-7-4-2-Sharding-JDBC子表（Spring和SpringBoot）" class="headerlink" title="3.7.4.2 Sharding-JDBC子表（Spring和SpringBoot）"></a>3.7.4.2 Sharding-JDBC子表（Spring和SpringBoot）</h5><h3 id="3-8-分布式全局ID，分布式事务和数据一致性"><a href="#3-8-分布式全局ID，分布式事务和数据一致性" class="headerlink" title="3.8 分布式全局ID，分布式事务和数据一致性"></a>3.8 分布式全局ID，分布式事务和数据一致性</h3><h4 id="3-8-1-分布式全局ID的多种解决方案"><a href="#3-8-1-分布式全局ID的多种解决方案" class="headerlink" title="3.8.1 分布式全局ID的多种解决方案"></a>3.8.1 分布式全局ID的多种解决方案</h4><h4 id="3-8-2-使用UUID作为分布式全局唯一主键ID"><a href="#3-8-2-使用UUID作为分布式全局唯一主键ID" class="headerlink" title="3.8.2 使用UUID作为分布式全局唯一主键ID"></a>3.8.2 使用UUID作为分布式全局唯一主键ID</h4><h5 id="3-8-2-1-基于MyCAT实现全局唯一主键ID（本地文件和数据库）"><a href="#3-8-2-1-基于MyCAT实现全局唯一主键ID（本地文件和数据库）" class="headerlink" title="3.8.2.1 基于MyCAT实现全局唯一主键ID（本地文件和数据库）"></a>3.8.2.1 基于MyCAT实现全局唯一主键ID（本地文件和数据库）</h5><h5 id="3-8-2-2-基于雪花算法实现全局唯一主键ID"><a href="#3-8-2-2-基于雪花算法实现全局唯一主键ID" class="headerlink" title="3.8.2.2 基于雪花算法实现全局唯一主键ID"></a>3.8.2.2 基于雪花算法实现全局唯一主键ID</h5><h4 id="3-8-3-分布式系统CAP、BASE原理和ACID原则"><a href="#3-8-3-分布式系统CAP、BASE原理和ACID原则" class="headerlink" title="3.8.3 分布式系统CAP、BASE原理和ACID原则"></a>3.8.3 分布式系统CAP、BASE原理和ACID原则</h4><h4 id="3-8-4-分布式事务问题解析"><a href="#3-8-4-分布式事务问题解析" class="headerlink" title="3.8.4 分布式事务问题解析"></a>3.8.4 分布式事务问题解析</h4><h5 id="3-8-4-1-基于XA协议的两阶段提交解决数据一致性问题"><a href="#3-8-4-1-基于XA协议的两阶段提交解决数据一致性问题" class="headerlink" title="3.8.4.1 基于XA协议的两阶段提交解决数据一致性问题"></a>3.8.4.1 基于XA协议的两阶段提交解决数据一致性问题</h5><h5 id="3-8-4-2-使用Atomikos做分布式事务"><a href="#3-8-4-2-使用Atomikos做分布式事务" class="headerlink" title="3.8.4.2 使用Atomikos做分布式事务"></a>3.8.4.2 使用Atomikos做分布式事务</h5><h5 id="3-8-4-3-MyCAT与Sharding-JDBC分布式事务"><a href="#3-8-4-3-MyCAT与Sharding-JDBC分布式事务" class="headerlink" title="3.8.4.3 MyCAT与Sharding-JDBC分布式事务"></a>3.8.4.3 MyCAT与Sharding-JDBC分布式事务</h5><h4 id="3-8-5-基于事务补偿机制解决数据一致性"><a href="#3-8-5-基于事务补偿机制解决数据一致性" class="headerlink" title="3.8.5 基于事务补偿机制解决数据一致性"></a>3.8.5 基于事务补偿机制解决数据一致性</h4><h5 id="3-8-5-1-基于本地消息表-定时任务解决数据一致性"><a href="#3-8-5-1-基于本地消息表-定时任务解决数据一致性" class="headerlink" title="3.8.5.1 基于本地消息表+定时任务解决数据一致性"></a>3.8.5.1 基于本地消息表+定时任务解决数据一致性</h5><h5 id="3-8-5-2-基于MQ生产消费模型解决数据一致性"><a href="#3-8-5-2-基于MQ生产消费模型解决数据一致性" class="headerlink" title="3.8.5.2 基于MQ生产消费模型解决数据一致性"></a>3.8.5.2 基于MQ生产消费模型解决数据一致性</h5><h3 id="3-9-分布式接口幂等性，分布式限流"><a href="#3-9-分布式接口幂等性，分布式限流" class="headerlink" title="3.9 分布式接口幂等性，分布式限流"></a>3.9 分布式接口幂等性，分布式限流</h3><h4 id="3-9-1-基于唯一索引解决delete操作的幂等性问题"><a href="#3-9-1-基于唯一索引解决delete操作的幂等性问题" class="headerlink" title="3.9.1 基于唯一索引解决delete操作的幂等性问题"></a>3.9.1 基于唯一索引解决delete操作的幂等性问题</h4><h5 id="3-9-1-1-基于乐观锁解决update的幂等性操作问题"><a href="#3-9-1-1-基于乐观锁解决update的幂等性操作问题" class="headerlink" title="3.9.1.1 基于乐观锁解决update的幂等性操作问题"></a>3.9.1.1 基于乐观锁解决update的幂等性操作问题</h5><h5 id="3-9-1-2-通过token机制解决insert的幂等操作问题"><a href="#3-9-1-2-通过token机制解决insert的幂等操作问题" class="headerlink" title="3.9.1.2 通过token机制解决insert的幂等操作问题"></a>3.9.1.2 通过token机制解决insert的幂等操作问题</h5><h4 id="3-9-2-分布式限流技术选型"><a href="#3-9-2-分布式限流技术选型" class="headerlink" title="3.9.2 分布式限流技术选型"></a>3.9.2 分布式限流技术选型</h4><h5 id="3-9-2-1-限流常用算法讲解"><a href="#3-9-2-1-限流常用算法讲解" class="headerlink" title="3.9.2.1 限流常用算法讲解"></a>3.9.2.1 限流常用算法讲解</h5><h5 id="3-9-2-2-基于Nginx的分布式限流-IP限制"><a href="#3-9-2-2-基于Nginx的分布式限流-IP限制" class="headerlink" title="3.9.2.2 基于Nginx的分布式限流 - IP限制"></a>3.9.2.2 基于Nginx的分布式限流 - IP限制</h5><h5 id="3-9-2-3-基于Nginx的分布式限流-连接数限制"><a href="#3-9-2-3-基于Nginx的分布式限流-连接数限制" class="headerlink" title="3.9.2.3 基于Nginx的分布式限流 - 连接数限制"></a>3.9.2.3 基于Nginx的分布式限流 - 连接数限制</h5><h5 id="3-9-2-4-基于Redis-Lua的分布式限流"><a href="#3-9-2-4-基于Redis-Lua的分布式限流" class="headerlink" title="3.9.2.4 基于Redis+Lua的分布式限流"></a>3.9.2.4 基于Redis+Lua的分布式限流</h5><h5 id="3-9-2-5-基于网关层实现分布式限流"><a href="#3-9-2-5-基于网关层实现分布式限流" class="headerlink" title="3.9.2.5 基于网关层实现分布式限流"></a>3.9.2.5 基于网关层实现分布式限流</h5><h5 id="3-9-2-6-分布式限流落地"><a href="#3-9-2-6-分布式限流落地" class="headerlink" title="3.9.2.6 分布式限流落地"></a>3.9.2.6 分布式限流落地</h5><h4 id="3-9-3-分布式限流要注意的问题"><a href="#3-9-3-分布式限流要注意的问题" class="headerlink" title="3.9.3 分布式限流要注意的问题"></a>3.9.3 分布式限流要注意的问题</h4><h2 id="4-基于SpringCloud改造微服务"><a href="#4-基于SpringCloud改造微服务" class="headerlink" title="4. 基于SpringCloud改造微服务"></a>4. 基于SpringCloud改造微服务</h2><h3 id="4-1-微服务基础，治理中心Eureka"><a href="#4-1-微服务基础，治理中心Eureka" class="headerlink" title="4.1 微服务基础，治理中心Eureka"></a>4.1 微服务基础，治理中心Eureka</h3><h4 id="4-1-1-微服务架构的利弊以及面临的挑战"><a href="#4-1-1-微服务架构的利弊以及面临的挑战" class="headerlink" title="4.1.1 微服务架构的利弊以及面临的挑战"></a>4.1.1 微服务架构的利弊以及面临的挑战</h4><h5 id="4-1-1-2-微服务的拆分规范，原则"><a href="#4-1-1-2-微服务的拆分规范，原则" class="headerlink" title="4.1.1.2 微服务的拆分规范，原则"></a>4.1.1.2 微服务的拆分规范，原则</h5><h4 id="4-1-2-阿里新零售业务商品中心的微服务化过程"><a href="#4-1-2-阿里新零售业务商品中心的微服务化过程" class="headerlink" title="4.1.2 阿里新零售业务商品中心的微服务化过程"></a>4.1.2 阿里新零售业务商品中心的微服务化过程</h4><h5 id="4-1-2-1-SpringCloud和微服务架构的关系"><a href="#4-1-2-1-SpringCloud和微服务架构的关系" class="headerlink" title="4.1.2.1 SpringCloud和微服务架构的关系"></a>4.1.2.1 SpringCloud和微服务架构的关系</h5><h5 id="4-1-2-2-SpringCloud整体架构"><a href="#4-1-2-2-SpringCloud整体架构" class="headerlink" title="4.1.2.2 SpringCloud整体架构"></a>4.1.2.2 SpringCloud整体架构</h5><h4 id="4-1-3-面对疯狂演进的版本，跟还是不跟？"><a href="#4-1-3-面对疯狂演进的版本，跟还是不跟？" class="headerlink" title="4.1.3 面对疯狂演进的版本，跟还是不跟？"></a>4.1.3 面对疯狂演进的版本，跟还是不跟？</h4><h5 id="4-1-3-1-电商系统微服务化的构想"><a href="#4-1-3-1-电商系统微服务化的构想" class="headerlink" title="4.1.3.1 电商系统微服务化的构想"></a>4.1.3.1 电商系统微服务化的构想</h5><h5 id="4-1-3-2-服务治理技术选型Eureka-VS-Consul-VS-Nacos"><a href="#4-1-3-2-服务治理技术选型Eureka-VS-Consul-VS-Nacos" class="headerlink" title="4.1.3.2 服务治理技术选型Eureka VS Consul VS Nacos"></a>4.1.3.2 服务治理技术选型Eureka VS Consul VS Nacos</h5><h5 id="4-1-3-3-如何看待Eureka2-0开源计划搁置对技术选型的影响"><a href="#4-1-3-3-如何看待Eureka2-0开源计划搁置对技术选型的影响" class="headerlink" title="4.1.3.3 如何看待Eureka2.0开源计划搁置对技术选型的影响"></a>4.1.3.3 如何看待Eureka2.0开源计划搁置对技术选型的影响</h5><h4 id="4-1-4-Eureka体系架构解析"><a href="#4-1-4-Eureka体系架构解析" class="headerlink" title="4.1.4 Eureka体系架构解析"></a>4.1.4 Eureka体系架构解析</h4><h5 id="4-1-4-1-创建服务注册中心"><a href="#4-1-4-1-创建服务注册中心" class="headerlink" title="4.1.4.1 创建服务注册中心"></a>4.1.4.1 创建服务注册中心</h5><h5 id="4-1-4-2-服务注册源码探秘"><a href="#4-1-4-2-服务注册源码探秘" class="headerlink" title="4.1.4.2 服务注册源码探秘"></a>4.1.4.2 服务注册源码探秘</h5><h5 id="4-1-4-3-服务发现，心跳监测与服务剔除，服务续约，服务自保，服务下线"><a href="#4-1-4-3-服务发现，心跳监测与服务剔除，服务续约，服务自保，服务下线" class="headerlink" title="4.1.4.3 服务发现，心跳监测与服务剔除，服务续约，服务自保，服务下线"></a>4.1.4.3 服务发现，心跳监测与服务剔除，服务续约，服务自保，服务下线</h5><h5 id="4-1-4-4-心跳检测和服务续约源码探秘"><a href="#4-1-4-4-心跳检测和服务续约源码探秘" class="headerlink" title="4.1.4.4 心跳检测和服务续约源码探秘"></a>4.1.4.4 心跳检测和服务续约源码探秘</h5><h5 id="4-1-4-5-启用心跳和健康度检查"><a href="#4-1-4-5-启用心跳和健康度检查" class="headerlink" title="4.1.4.5 启用心跳和健康度检查"></a>4.1.4.5 启用心跳和健康度检查</h5><h5 id="4-1-4-6-如何保证注册中心的高可用化，单中心宕机的思考"><a href="#4-1-4-6-如何保证注册中心的高可用化，单中心宕机的思考" class="headerlink" title="4.1.4.6 如何保证注册中心的高可用化，单中心宕机的思考"></a>4.1.4.6 如何保证注册中心的高可用化，单中心宕机的思考</h5><h5 id="4-1-4-7-双备份注册中心-架构心得"><a href="#4-1-4-7-双备份注册中心-架构心得" class="headerlink" title="4.1.4.7 双备份注册中心 + 架构心得"></a>4.1.4.7 双备份注册中心 + 架构心得</h5><h5 id="4-1-4-8-电商系统用户模块集成Eureka"><a href="#4-1-4-8-电商系统用户模块集成Eureka" class="headerlink" title="4.1.4.8 电商系统用户模块集成Eureka"></a>4.1.4.8 电商系统用户模块集成Eureka</h5><h3 id="4-2-负载均衡，服务通信与调用"><a href="#4-2-负载均衡，服务通信与调用" class="headerlink" title="4.2 负载均衡，服务通信与调用"></a>4.2 负载均衡，服务通信与调用</h3><h4 id="4-2-1-负载均衡技术选型（客户端-vs-服务器端）"><a href="#4-2-1-负载均衡技术选型（客户端-vs-服务器端）" class="headerlink" title="4.2.1 负载均衡技术选型（客户端 vs 服务器端）"></a>4.2.1 负载均衡技术选型（客户端 vs 服务器端）</h4><h4 id="4-2-2-Ribbon体系架构解析"><a href="#4-2-2-Ribbon体系架构解析" class="headerlink" title="4.2.2 Ribbon体系架构解析"></a>4.2.2 Ribbon体系架构解析</h4><h5 id="4-2-2-1-为服务消费者添加负载均衡功能"><a href="#4-2-2-1-为服务消费者添加负载均衡功能" class="headerlink" title="4.2.2.1 为服务消费者添加负载均衡功能"></a>4.2.2.1 为服务消费者添加负载均衡功能</h5><h5 id="4-2-2-2-懒加载与饥饿加载"><a href="#4-2-2-2-懒加载与饥饿加载" class="headerlink" title="4.2.2.2 懒加载与饥饿加载"></a>4.2.2.2 懒加载与饥饿加载</h5><h5 id="4-2-2-3-负载均衡策略详解"><a href="#4-2-2-3-负载均衡策略详解" class="headerlink" title="4.2.2.3 负载均衡策略详解"></a>4.2.2.3 负载均衡策略详解</h5><h5 id="4-2-2-4-探究负载均衡策略源码"><a href="#4-2-2-4-探究负载均衡策略源码" class="headerlink" title="4.2.2.4 探究负载均衡策略源码"></a>4.2.2.4 探究负载均衡策略源码</h5><h5 id="4-2-2-5-深入了解LoadBalanced注解的底层机制"><a href="#4-2-2-5-深入了解LoadBalanced注解的底层机制" class="headerlink" title="4.2.2.5 深入了解LoadBalanced注解的底层机制"></a>4.2.2.5 深入了解LoadBalanced注解的底层机制</h5><h4 id="4-2-3-没有银弹！如何针对具体业务采用合适的负载均衡策略"><a href="#4-2-3-没有银弹！如何针对具体业务采用合适的负载均衡策略" class="headerlink" title="4.2.3 没有银弹！如何针对具体业务采用合适的负载均衡策略"></a>4.2.3 没有银弹！如何针对具体业务采用合适的负载均衡策略</h4><h5 id="4-2-3-1-电商系统用户模块统集成Ribbon"><a href="#4-2-3-1-电商系统用户模块统集成Ribbon" class="headerlink" title="4.2.3.1 电商系统用户模块统集成Ribbon"></a>4.2.3.1 电商系统用户模块统集成Ribbon</h5><h5 id="4-2-3-2-Ribbon可扩展性的研究-irule机制"><a href="#4-2-3-2-Ribbon可扩展性的研究-irule机制" class="headerlink" title="4.2.3.2 Ribbon可扩展性的研究-irule机制"></a>4.2.3.2 Ribbon可扩展性的研究-irule机制</h5><h5 id="4-2-3-3-自定义轮询式负载均衡策略"><a href="#4-2-3-3-自定义轮询式负载均衡策略" class="headerlink" title="4.2.3.3 自定义轮询式负载均衡策略"></a>4.2.3.3 自定义轮询式负载均衡策略</h5><h4 id="4-2-4-Feign体系架构解析"><a href="#4-2-4-Feign体系架构解析" class="headerlink" title="4.2.4 Feign体系架构解析"></a>4.2.4 Feign体系架构解析</h4><h5 id="4-2-4-1-将Feign应用到服务消费者中"><a href="#4-2-4-1-将Feign应用到服务消费者中" class="headerlink" title="4.2.4.1 将Feign应用到服务消费者中"></a>4.2.4.1 将Feign应用到服务消费者中</h5><h5 id="4-2-4-2-深入了解EnableFeignClient注解的底层机制"><a href="#4-2-4-2-深入了解EnableFeignClient注解的底层机制" class="headerlink" title="4.2.4.2 深入了解EnableFeignClient注解的底层机制"></a>4.2.4.2 深入了解EnableFeignClient注解的底层机制</h5><h5 id="4-2-4-3-理想的Feign风格项目架构分享"><a href="#4-2-4-3-理想的Feign风格项目架构分享" class="headerlink" title="4.2.4.3 理想的Feign风格项目架构分享"></a>4.2.4.3 理想的Feign风格项目架构分享</h5><h4 id="4-2-5-配置重试和超时策略"><a href="#4-2-5-配置重试和超时策略" class="headerlink" title="4.2.5 配置重试和超时策略"></a>4.2.5 配置重试和超时策略</h4><h5 id="4-2-5-1-深入了解FeignContract协议解析过程"><a href="#4-2-5-1-深入了解FeignContract协议解析过程" class="headerlink" title="4.2.5.1 深入了解FeignContract协议解析过程"></a>4.2.5.1 深入了解FeignContract协议解析过程</h5><h5 id="4-2-5-2-电商系统用户模块统集成Feign"><a href="#4-2-5-2-电商系统用户模块统集成Feign" class="headerlink" title="4.2.5.2 电商系统用户模块统集成Feign"></a>4.2.5.2 电商系统用户模块统集成Feign</h5><h3 id="4-3-服务容错—Hystrix"><a href="#4-3-服务容错—Hystrix" class="headerlink" title="4.3 服务容错—Hystrix"></a>4.3 服务容错—Hystrix</h3><h4 id="4-3-1-服务容错的解决方案-降级和熔断"><a href="#4-3-1-服务容错的解决方案-降级和熔断" class="headerlink" title="4.3.1 服务容错的解决方案 (降级和熔断)"></a>4.3.1 服务容错的解决方案 (降级和熔断)</h4><h4 id="4-3-2-Hystrix体系架构解析（依赖隔离、服务降级、请求熔断）"><a href="#4-3-2-Hystrix体系架构解析（依赖隔离、服务降级、请求熔断）" class="headerlink" title="4.3.2 Hystrix体系架构解析（依赖隔离、服务降级、请求熔断）"></a>4.3.2 Hystrix体系架构解析（依赖隔离、服务降级、请求熔断）</h4><h5 id="4-3-2-1-服务降级原理及常用解决方案-FailFast-Timeout和Request-Cache"><a href="#4-3-2-1-服务降级原理及常用解决方案-FailFast-Timeout和Request-Cache" class="headerlink" title="4.3.2.1 服务降级原理及常用解决方案(FailFast, Timeout和Request Cache)"></a>4.3.2.1 服务降级原理及常用解决方案(FailFast, Timeout和Request Cache)</h5><h5 id="4-3-2-2-Feign-Hystrix实现Fallback降级"><a href="#4-3-2-2-Feign-Hystrix实现Fallback降级" class="headerlink" title="4.3.2.2 Feign+Hystrix实现Fallback降级"></a>4.3.2.2 Feign+Hystrix实现Fallback降级</h5><h5 id="4-3-2-3-Hystrix实现Request-Cache降级"><a href="#4-3-2-3-Hystrix实现Request-Cache降级" class="headerlink" title="4.3.2.3 Hystrix实现Request Cache降级"></a>4.3.2.3 Hystrix实现Request Cache降级</h5><h5 id="4-3-2-4-多级降级方案-自定义降级处理类，二次降级"><a href="#4-3-2-4-多级降级方案-自定义降级处理类，二次降级" class="headerlink" title="4.3.2.4 多级降级方案(自定义降级处理类，二次降级)"></a>4.3.2.4 多级降级方案(自定义降级处理类，二次降级)</h5><h5 id="4-3-2-5-超时降级-规避与Ribbon共同作用时的坑"><a href="#4-3-2-5-超时降级-规避与Ribbon共同作用时的坑" class="headerlink" title="4.3.2.5 超时降级 - 规避与Ribbon共同作用时的坑"></a>4.3.2.5 超时降级 - 规避与Ribbon共同作用时的坑</h5><h5 id="4-3-2-6-Hystrix框架降级方案的触发方式（源码品读）"><a href="#4-3-2-6-Hystrix框架降级方案的触发方式（源码品读）" class="headerlink" title="4.3.2.6 Hystrix框架降级方案的触发方式（源码品读）"></a>4.3.2.6 Hystrix框架降级方案的触发方式（源码品读）</h5><h4 id="4-3-3-熔断器以及工作原理"><a href="#4-3-3-熔断器以及工作原理" class="headerlink" title="4.3.3 熔断器以及工作原理"></a>4.3.3 熔断器以及工作原理</h4><h5 id="4-3-3-1-Feign集成Hystrix熔断器"><a href="#4-3-3-1-Feign集成Hystrix熔断器" class="headerlink" title="4.3.3.1 Feign集成Hystrix熔断器"></a>4.3.3.1 Feign集成Hystrix熔断器</h5><h5 id="4-3-3-2-Hystrix熔断器参数的作用（源码品读）"><a href="#4-3-3-2-Hystrix熔断器参数的作用（源码品读）" class="headerlink" title="4.3.3.2 Hystrix熔断器参数的作用（源码品读）"></a>4.3.3.2 Hystrix熔断器参数的作用（源码品读）</h5><h5 id="4-3-3-3-降级熔断的业务规划（规划主链路-业务与容灾策略）"><a href="#4-3-3-3-降级熔断的业务规划（规划主链路-业务与容灾策略）" class="headerlink" title="4.3.3.3 降级熔断的业务规划（规划主链路/业务与容灾策略）"></a>4.3.3.3 降级熔断的业务规划（规划主链路/业务与容灾策略）</h5><h5 id="4-3-3-4-线程隔离-核心方案以及工作原理"><a href="#4-3-3-4-线程隔离-核心方案以及工作原理" class="headerlink" title="4.3.3.4 线程隔离 - 核心方案以及工作原理"></a>4.3.3.4 线程隔离 - 核心方案以及工作原理</h5><h5 id="4-3-3-5-线程池-vs-信号量的优缺点比较"><a href="#4-3-3-5-线程池-vs-信号量的优缺点比较" class="headerlink" title="4.3.3.5 线程池 vs 信号量的优缺点比较"></a>4.3.3.5 线程池 vs 信号量的优缺点比较</h5><h5 id="4-3-3-6-聚合Hystrix监控信息-–-Turbine和Hystrix-Dashboard"><a href="#4-3-3-6-聚合Hystrix监控信息-–-Turbine和Hystrix-Dashboard" class="headerlink" title="4.3.3.6 聚合Hystrix监控信息 – Turbine和Hystrix Dashboard"></a>4.3.3.6 聚合Hystrix监控信息 – Turbine和Hystrix Dashboard</h5><h5 id="4-3-3-7-通过Turbine聚合Consumer信息"><a href="#4-3-3-7-通过Turbine聚合Consumer信息" class="headerlink" title="4.3.3.7 通过Turbine聚合Consumer信息"></a>4.3.3.7 通过Turbine聚合Consumer信息</h5><h5 id="4-3-3-8-电商系统用户模块集成Hystrix实现降级熔断"><a href="#4-3-3-8-电商系统用户模块集成Hystrix实现降级熔断" class="headerlink" title="4.3.3.8 电商系统用户模块集成Hystrix实现降级熔断"></a>4.3.3.8 电商系统用户模块集成Hystrix实现降级熔断</h5><h3 id="4-4-分布式配置中心—Config"><a href="#4-4-分布式配置中心—Config" class="headerlink" title="4.4 分布式配置中心—Config"></a>4.4 分布式配置中心—Config</h3><h4 id="4-4-1-配置中心在微服务中的应用"><a href="#4-4-1-配置中心在微服务中的应用" class="headerlink" title="4.4.1 配置中心在微服务中的应用"></a>4.4.1 配置中心在微服务中的应用</h4><h5 id="4-4-1-1-Config核心功能和体系架构"><a href="#4-4-1-1-Config核心功能和体系架构" class="headerlink" title="4.4.1.1 Config核心功能和体系架构"></a>4.4.1.1 Config核心功能和体系架构</h5><h4 id="4-4-2-了解直联式架构，搭建直连式的配置中心"><a href="#4-4-2-了解直联式架构，搭建直连式的配置中心" class="headerlink" title="4.4.2 了解直联式架构，搭建直连式的配置中心"></a>4.4.2 了解直联式架构，搭建直连式的配置中心</h4><h5 id="4-4-2-1-搭建配置中心Config-Server"><a href="#4-4-2-1-搭建配置中心Config-Server" class="headerlink" title="4.4.2.1 搭建配置中心Config-Server"></a>4.4.2.1 搭建配置中心Config-Server</h5><h5 id="4-4-2-2-搭建Client端直连配置中心"><a href="#4-4-2-2-搭建Client端直连配置中心" class="headerlink" title="4.4.2.2 搭建Client端直连配置中心"></a>4.4.2.2 搭建Client端直连配置中心</h5><h4 id="4-4-3-资源文件加载流程ResourceRepository源码分析"><a href="#4-4-3-资源文件加载流程ResourceRepository源码分析" class="headerlink" title="4.4.3 资源文件加载流程ResourceRepository源码分析"></a>4.4.3 资源文件加载流程ResourceRepository源码分析</h4><h5 id="4-4-3-1-如何在运行期动态刷新配置项"><a href="#4-4-3-1-如何在运行期动态刷新配置项" class="headerlink" title="4.4.3.1 如何在运行期动态刷新配置项"></a>4.4.3.1 如何在运行期动态刷新配置项</h5><h5 id="4-4-3-2-单中心宕机的思考，如何保证配置中心的高可用化"><a href="#4-4-3-2-单中心宕机的思考，如何保证配置中心的高可用化" class="headerlink" title="4.4.3.2 单中心宕机的思考，如何保证配置中心的高可用化"></a>4.4.3.2 单中心宕机的思考，如何保证配置中心的高可用化</h5><h4 id="4-4-4-借助Eureka实现高可用性配置中心"><a href="#4-4-4-借助Eureka实现高可用性配置中心" class="headerlink" title="4.4.4 借助Eureka实现高可用性配置中心"></a>4.4.4 借助Eureka实现高可用性配置中心</h4><h5 id="4-4-4-1-如何对大规模集群进行刷新？总线式架构展望"><a href="#4-4-4-1-如何对大规模集群进行刷新？总线式架构展望" class="headerlink" title="4.4.4.1 如何对大规模集群进行刷新？总线式架构展望"></a>4.4.4.1 如何对大规模集群进行刷新？总线式架构展望</h5><h5 id="4-4-4-2-对称性密钥进行加解密-保存私密信息"><a href="#4-4-4-2-对称性密钥进行加解密-保存私密信息" class="headerlink" title="4.4.4.2 对称性密钥进行加解密(保存私密信息)"></a>4.4.4.2 对称性密钥进行加解密(保存私密信息)</h5><h4 id="4-4-5-分布式配置中心的其他花式用法-环境配置项隔离-辅助服务降级-平滑灰度等"><a href="#4-4-5-分布式配置中心的其他花式用法-环境配置项隔离-辅助服务降级-平滑灰度等" class="headerlink" title="4.4.5 分布式配置中心的其他花式用法(环境配置项隔离/辅助服务降级/平滑灰度等)"></a>4.4.5 分布式配置中心的其他花式用法(环境配置项隔离/辅助服务降级/平滑灰度等)</h4><h5 id="4-4-5-1-电商系统用户注册功能集成SCC"><a href="#4-4-5-1-电商系统用户注册功能集成SCC" class="headerlink" title="4.4.5.1 电商系统用户注册功能集成SCC"></a>4.4.5.1 电商系统用户注册功能集成SCC</h5><h5 id="4-4-5-2-视野拓展-阿里系的分布式配置中心"><a href="#4-4-5-2-视野拓展-阿里系的分布式配置中心" class="headerlink" title="4.4.5.2 视野拓展-阿里系的分布式配置中心"></a>4.4.5.2 视野拓展-阿里系的分布式配置中心</h5><h5 id="4-4-5-3-视野拓展-配置中心在阿里新零售业务中的应用"><a href="#4-4-5-3-视野拓展-配置中心在阿里新零售业务中的应用" class="headerlink" title="4.4.5.3 视野拓展-配置中心在阿里新零售业务中的应用"></a>4.4.5.3 视野拓展-配置中心在阿里新零售业务中的应用</h5><h3 id="4-5-消息总线，服务网关"><a href="#4-5-消息总线，服务网关" class="headerlink" title="4.5 消息总线，服务网关"></a>4.5 消息总线，服务网关</h3><h4 id="4-5-1-Bus体系架构解析"><a href="#4-5-1-Bus体系架构解析" class="headerlink" title="4.5.1 Bus体系架构解析"></a>4.5.1 Bus体系架构解析</h4><h5 id="4-5-1-2-Bus的接入方式-RabbitMQ、Kafka"><a href="#4-5-1-2-Bus的接入方式-RabbitMQ、Kafka" class="headerlink" title="4.5.1.2 Bus的接入方式 (RabbitMQ、Kafka)"></a>4.5.1.2 Bus的接入方式 (RabbitMQ、Kafka)</h5><h4 id="4-5-2-配置中心改造为总线架构-RabbitMQ"><a href="#4-5-2-配置中心改造为总线架构-RabbitMQ" class="headerlink" title="4.5.2 配置中心改造为总线架构 - RabbitMQ"></a>4.5.2 配置中心改造为总线架构 - RabbitMQ</h4><h5 id="4-5-2-1-源码解析-bus-refresh底层机制"><a href="#4-5-2-1-源码解析-bus-refresh底层机制" class="headerlink" title="4.5.2.1 源码解析-bus-refresh底层机制"></a>4.5.2.1 源码解析-bus-refresh底层机制</h5><h5 id="4-5-2-2-如何实现自动推送？Git-WebHook"><a href="#4-5-2-2-如何实现自动推送？Git-WebHook" class="headerlink" title="4.5.2.2 如何实现自动推送？Git WebHook"></a>4.5.2.2 如何实现自动推送？Git WebHook</h5><h4 id="4-5-3-架构思考-消息总线如何助攻其他业务场景"><a href="#4-5-3-架构思考-消息总线如何助攻其他业务场景" class="headerlink" title="4.5.3 架构思考-消息总线如何助攻其他业务场景"></a>4.5.3 架构思考-消息总线如何助攻其他业务场景</h4><h5 id="4-5-3-1-网关组件选型Gateway-vs-Zuul"><a href="#4-5-3-1-网关组件选型Gateway-vs-Zuul" class="headerlink" title="4.5.3.1 网关组件选型Gateway vs Zuul"></a>4.5.3.1 网关组件选型Gateway vs Zuul</h5><h5 id="4-5-3-2-Gateway体系架构解析"><a href="#4-5-3-2-Gateway体系架构解析" class="headerlink" title="4.5.3.2 Gateway体系架构解析"></a>4.5.3.2 Gateway体系架构解析</h5><h5 id="4-5-3-3-Gateway路由功能详解（Route）"><a href="#4-5-3-3-Gateway路由功能详解（Route）" class="headerlink" title="4.5.3.3 Gateway路由功能详解（Route）"></a>4.5.3.3 Gateway路由功能详解（Route）</h5><h5 id="4-5-3-4-利用Path断言实现url映射"><a href="#4-5-3-4-利用Path断言实现url映射" class="headerlink" title="4.5.3.4 利用Path断言实现url映射"></a>4.5.3.4 利用Path断言实现url映射</h5><h5 id="4-5-3-5-利用After断言实现定时秒杀场景"><a href="#4-5-3-5-利用After断言实现定时秒杀场景" class="headerlink" title="4.5.3.5 利用After断言实现定时秒杀场景"></a>4.5.3.5 利用After断言实现定时秒杀场景</h5><h5 id="4-5-3-6-自定义过滤器实现接口计时功能"><a href="#4-5-3-6-自定义过滤器实现接口计时功能" class="headerlink" title="4.5.3.6 自定义过滤器实现接口计时功能"></a>4.5.3.6 自定义过滤器实现接口计时功能</h5><h4 id="4-5-4-Gateway过滤器机制源码解析"><a href="#4-5-4-Gateway过滤器机制源码解析" class="headerlink" title="4.5.4 Gateway过滤器机制源码解析"></a>4.5.4 Gateway过滤器机制源码解析</h4><h5 id="4-5-4-1-如何进行权限认证-分布式Session的替代方案有哪些"><a href="#4-5-4-1-如何进行权限认证-分布式Session的替代方案有哪些" class="headerlink" title="4.5.4.1 如何进行权限认证 - 分布式Session的替代方案有哪些"></a>4.5.4.1 如何进行权限认证 - 分布式Session的替代方案有哪些</h5><h5 id="4-5-4-2-基于JWT实现用户鉴权"><a href="#4-5-4-2-基于JWT实现用户鉴权" class="headerlink" title="4.5.4.2 基于JWT实现用户鉴权"></a>4.5.4.2 基于JWT实现用户鉴权</h5><h5 id="4-5-4-3-架构思考-如何借助网关层对服务端各类异常做统一处理"><a href="#4-5-4-3-架构思考-如何借助网关层对服务端各类异常做统一处理" class="headerlink" title="4.5.4.3 架构思考-如何借助网关层对服务端各类异常做统一处理"></a>4.5.4.3 架构思考-如何借助网关层对服务端各类异常做统一处理</h5><h5 id="4-5-4-4-拓展-网关层的其他妙用-限流"><a href="#4-5-4-4-拓展-网关层的其他妙用-限流" class="headerlink" title="4.5.4.4 拓展-网关层的其他妙用 - 限流"></a>4.5.4.4 拓展-网关层的其他妙用 - 限流</h5><h5 id="4-5-4-5-为电商系统添加服务网关"><a href="#4-5-4-5-为电商系统添加服务网关" class="headerlink" title="4.5.4.5 为电商系统添加服务网关"></a>4.5.4.5 为电商系统添加服务网关</h5><h3 id="4-6-服务调用追踪，消息驱动"><a href="#4-6-服务调用追踪，消息驱动" class="headerlink" title="4.6 服务调用追踪，消息驱动"></a>4.6 服务调用追踪，消息驱动</h3><h4 id="4-6-1-调用链追溯在微服务中的应用"><a href="#4-6-1-调用链追溯在微服务中的应用" class="headerlink" title="4.6.1 调用链追溯在微服务中的应用"></a>4.6.1 调用链追溯在微服务中的应用</h4><h5 id="4-6-1-1-Sleuth核心功能和体系架构解析"><a href="#4-6-1-1-Sleuth核心功能和体系架构解析" class="headerlink" title="4.6.1.1 Sleuth核心功能和体系架构解析"></a>4.6.1.1 Sleuth核心功能和体系架构解析</h5><h5 id="4-6-1-2-调用链路数据模型-Trace、Span、Annotation"><a href="#4-6-1-2-调用链路数据模型-Trace、Span、Annotation" class="headerlink" title="4.6.1.2 调用链路数据模型 (Trace、Span、Annotation)"></a>4.6.1.2 调用链路数据模型 (Trace、Span、Annotation)</h5><h5 id="4-6-1-3-整合Sleuth追踪调用链路"><a href="#4-6-1-3-整合Sleuth追踪调用链路" class="headerlink" title="4.6.1.3 整合Sleuth追踪调用链路"></a>4.6.1.3 整合Sleuth追踪调用链路</h5><h4 id="4-6-2-解码解析-RequestHeader追踪调用链路的原理"><a href="#4-6-2-解码解析-RequestHeader追踪调用链路的原理" class="headerlink" title="4.6.2 解码解析-RequestHeader追踪调用链路的原理"></a>4.6.2 解码解析-RequestHeader追踪调用链路的原理</h4><h5 id="4-6-2-1-Sleuth整合ELK实现日志检索"><a href="#4-6-2-1-Sleuth整合ELK实现日志检索" class="headerlink" title="4.6.2.1 Sleuth整合ELK实现日志检索"></a>4.6.2.1 Sleuth整合ELK实现日志检索</h5><h5 id="4-6-2-2-电商项目用户模块集成Sleuth-Zipkin"><a href="#4-6-2-2-电商项目用户模块集成Sleuth-Zipkin" class="headerlink" title="4.6.2.2 电商项目用户模块集成Sleuth + Zipkin"></a>4.6.2.2 电商项目用户模块集成Sleuth + Zipkin</h5><h5 id="4-6-2-3-拓展-阿里新零售业务中商品发布的削峰策略"><a href="#4-6-2-3-拓展-阿里新零售业务中商品发布的削峰策略" class="headerlink" title="4.6.2.3 拓展-阿里新零售业务中商品发布的削峰策略"></a>4.6.2.3 拓展-阿里新零售业务中商品发布的削峰策略</h5><h4 id="4-6-3-源码解析-探秘Stream-Binder作用机制"><a href="#4-6-3-源码解析-探秘Stream-Binder作用机制" class="headerlink" title="4.6.3 源码解析-探秘Stream Binder作用机制"></a>4.6.3 源码解析-探秘Stream Binder作用机制</h4><h5 id="4-6-3-1-基于发布订阅实现广播功能"><a href="#4-6-3-1-基于发布订阅实现广播功能" class="headerlink" title="4.6.3.1 基于发布订阅实现广播功能"></a>4.6.3.1 基于发布订阅实现广播功能</h5><h5 id="4-6-3-2-阿里新零售业务利用发布订阅实现商品信息刷新"><a href="#4-6-3-2-阿里新零售业务利用发布订阅实现商品信息刷新" class="headerlink" title="4.6.3.2 阿里新零售业务利用发布订阅实现商品信息刷新"></a>4.6.3.2 阿里新零售业务利用发布订阅实现商品信息刷新</h5><h5 id="4-6-3-3-Stream中的消费组和消费分区机制"><a href="#4-6-3-3-Stream中的消费组和消费分区机制" class="headerlink" title="4.6.3.3 Stream中的消费组和消费分区机制"></a>4.6.3.3 Stream中的消费组和消费分区机制</h5><h5 id="4-6-3-4-基于消费组实现轮询单播功能"><a href="#4-6-3-4-基于消费组实现轮询单播功能" class="headerlink" title="4.6.3.4 基于消费组实现轮询单播功能"></a>4.6.3.4 基于消费组实现轮询单播功能</h5><h5 id="4-6-3-5-Stream-MQ插件实现延迟消息、equeue操作"><a href="#4-6-3-5-Stream-MQ插件实现延迟消息、equeue操作" class="headerlink" title="4.6.3.5 Stream + MQ插件实现延迟消息、equeue操作"></a>4.6.3.5 Stream + MQ插件实现延迟消息、equeue操作</h5><h4 id="4-6-4-架构思考-异常情况导致消息无法被消费怎么办？"><a href="#4-6-4-架构思考-异常情况导致消息无法被消费怎么办？" class="headerlink" title="4.6.4 架构思考-异常情况导致消息无法被消费怎么办？"></a>4.6.4 架构思考-异常情况导致消息无法被消费怎么办？</h4><h5 id="4-6-4-1-借助死信队列实现异常处理"><a href="#4-6-4-1-借助死信队列实现异常处理" class="headerlink" title="4.6.4.1 借助死信队列实现异常处理"></a>4.6.4.1 借助死信队列实现异常处理</h5><h5 id="4-6-4-2-定制自定义异常逻辑"><a href="#4-6-4-2-定制自定义异常逻辑" class="headerlink" title="4.6.4.2 定制自定义异常逻辑"></a>4.6.4.2 定制自定义异常逻辑</h5><h5 id="4-6-4-3-电商项目引入Stream-MQ"><a href="#4-6-4-3-电商项目引入Stream-MQ" class="headerlink" title="4.6.4.3 电商项目引入Stream + MQ"></a>4.6.4.3 电商项目引入Stream + MQ</h5><h3 id="4-7-微服务下Sentinel流量防控哨兵"><a href="#4-7-微服务下Sentinel流量防控哨兵" class="headerlink" title="4.7 微服务下Sentinel流量防控哨兵"></a>4.7 微服务下Sentinel流量防控哨兵</h3><h4 id="4-7-1-Sentinel哨兵全景分析"><a href="#4-7-1-Sentinel哨兵全景分析" class="headerlink" title="4.7.1 Sentinel哨兵全景分析"></a>4.7.1 Sentinel哨兵全景分析</h4><h5 id="4-7-1-2-Sentinel哨兵核心API详解"><a href="#4-7-1-2-Sentinel哨兵核心API详解" class="headerlink" title="4.7.1.2 Sentinel哨兵核心API详解"></a>4.7.1.2 Sentinel哨兵核心API详解</h5><h5 id="4-7-1-3-源码解析-Sentinel哨兵核心主流程分析"><a href="#4-7-1-3-源码解析-Sentinel哨兵核心主流程分析" class="headerlink" title="4.7.1.3 源码解析-Sentinel哨兵核心主流程分析"></a>4.7.1.3 源码解析-Sentinel哨兵核心主流程分析</h5><h4 id="4-7-2-Sentinel哨兵SpringAOP注解方式应用"><a href="#4-7-2-Sentinel哨兵SpringAOP注解方式应用" class="headerlink" title="4.7.2 Sentinel哨兵SpringAOP注解方式应用"></a>4.7.2 Sentinel哨兵SpringAOP注解方式应用</h4><h5 id="4-7-2-1-Sentinel哨兵与主流框架的适配使用"><a href="#4-7-2-1-Sentinel哨兵与主流框架的适配使用" class="headerlink" title="4.7.2.1 Sentinel哨兵与主流框架的适配使用"></a>4.7.2.1 Sentinel哨兵与主流框架的适配使用</h5><h5 id="4-7-2-2-Sentinel哨兵集群流控策与替代方案分享"><a href="#4-7-2-2-Sentinel哨兵集群流控策与替代方案分享" class="headerlink" title="4.7.2.2 Sentinel哨兵集群流控策与替代方案分享"></a>4.7.2.2 Sentinel哨兵集群流控策与替代方案分享</h5><h5 id="4-7-2-3-Sentinel哨兵集成Apollo-携程的开源配置中心"><a href="#4-7-2-3-Sentinel哨兵集成Apollo-携程的开源配置中心" class="headerlink" title="4.7.2.3 Sentinel哨兵集成Apollo(携程的开源配置中心)"></a>4.7.2.3 Sentinel哨兵集成Apollo(携程的开源配置中心)</h5><h4 id="4-7-3-Apollo持久化规则扩展思路详解"><a href="#4-7-3-Apollo持久化规则扩展思路详解" class="headerlink" title="4.7.3 Apollo持久化规则扩展思路详解"></a>4.7.3 Apollo持久化规则扩展思路详解</h4><h5 id="4-7-3-1-Apollo配置文件解析与ApolloOpenApiClient创建"><a href="#4-7-3-1-Apollo配置文件解析与ApolloOpenApiClient创建" class="headerlink" title="4.7.3.1 Apollo配置文件解析与ApolloOpenApiClient创建"></a>4.7.3.1 Apollo配置文件解析与ApolloOpenApiClient创建</h5><h5 id="4-7-3-2-Apollo-sentinel-dashboard扩展实现"><a href="#4-7-3-2-Apollo-sentinel-dashboard扩展实现" class="headerlink" title="4.7.3.2 Apollo sentinel-dashboard扩展实现"></a>4.7.3.2 Apollo sentinel-dashboard扩展实现</h5><h5 id="4-7-3-3-Apollo-客户端集成sentinel-dashboard"><a href="#4-7-3-3-Apollo-客户端集成sentinel-dashboard" class="headerlink" title="4.7.3.3 Apollo 客户端集成sentinel-dashboard"></a>4.7.3.3 Apollo 客户端集成sentinel-dashboard</h5><h3 id="4-8-微服务治理之Dubbo"><a href="#4-8-微服务治理之Dubbo" class="headerlink" title="4.8 微服务治理之Dubbo"></a>4.8 微服务治理之Dubbo</h3><h4 id="4-8-1-RPC-VS-HTTP"><a href="#4-8-1-RPC-VS-HTTP" class="headerlink" title="4.8.1 RPC VS HTTP"></a>4.8.1 RPC VS HTTP</h4><h4 id="4-8-2-Dubbo架构设计解析"><a href="#4-8-2-Dubbo架构设计解析" class="headerlink" title="4.8.2 Dubbo架构设计解析"></a>4.8.2 Dubbo架构设计解析</h4><h5 id="4-8-2-1-Dubbo核心功能讲解"><a href="#4-8-2-1-Dubbo核心功能讲解" class="headerlink" title="4.8.2.1 Dubbo核心功能讲解"></a>4.8.2.1 Dubbo核心功能讲解</h5><h5 id="4-8-2-2-构建Dubbo注册中心和Service-Provider"><a href="#4-8-2-2-构建Dubbo注册中心和Service-Provider" class="headerlink" title="4.8.2.2 构建Dubbo注册中心和Service Provider"></a>4.8.2.2 构建Dubbo注册中心和Service Provider</h5><h4 id="4-8-3-RPC协议解析流程"><a href="#4-8-3-RPC协议解析流程" class="headerlink" title="4.8.3 RPC协议解析流程"></a>4.8.3 RPC协议解析流程</h4><h5 id="4-8-3-1-构建服务消费者"><a href="#4-8-3-1-构建服务消费者" class="headerlink" title="4.8.3.1 构建服务消费者"></a>4.8.3.1 构建服务消费者</h5><h5 id="4-8-3-2-容错策略，负载均衡"><a href="#4-8-3-2-容错策略，负载均衡" class="headerlink" title="4.8.3.2 容错策略，负载均衡"></a>4.8.3.2 容错策略，负载均衡</h5><h5 id="4-8-3-3-基于Dubbo-Admin的服务治理"><a href="#4-8-3-3-基于Dubbo-Admin的服务治理" class="headerlink" title="4.8.3.3 基于Dubbo-Admin的服务治理"></a>4.8.3.3 基于Dubbo-Admin的服务治理</h5><h5 id="4-8-3-4-源码解析-Dubbo调用链路解析"><a href="#4-8-3-4-源码解析-Dubbo调用链路解析" class="headerlink" title="4.8.3.4 源码解析-Dubbo调用链路解析"></a>4.8.3.4 源码解析-Dubbo调用链路解析</h5><h4 id="4-8-4-拓展-阿里系王牌中间件-HSF"><a href="#4-8-4-拓展-阿里系王牌中间件-HSF" class="headerlink" title="4.8.4 拓展-阿里系王牌中间件 - HSF"></a>4.8.4 拓展-阿里系王牌中间件 - HSF</h4><h2 id="5-容器化—docker-amp-K8S"><a href="#5-容器化—docker-amp-K8S" class="headerlink" title="5. 容器化—docker&amp;K8S"></a>5. 容器化—docker&amp;K8S</h2><h3 id="5-1-服务容器化—docker"><a href="#5-1-服务容器化—docker" class="headerlink" title="5.1 服务容器化—docker"></a>5.1 服务容器化—docker</h3><h4 id="5-1-1-服务容器化优势和助力"><a href="#5-1-1-服务容器化优势和助力" class="headerlink" title="5.1.1 服务容器化优势和助力"></a>5.1.1 服务容器化优势和助力</h4><h5 id="5-1-1-1-服务容器化技术演进之路"><a href="#5-1-1-1-服务容器化技术演进之路" class="headerlink" title="5.1.1.1 服务容器化技术演进之路"></a>5.1.1.1 服务容器化技术演进之路</h5><h5 id="5-1-1-2-容器技术选型Docker-VS-Cloud-Foundry"><a href="#5-1-1-2-容器技术选型Docker-VS-Cloud-Foundry" class="headerlink" title="5.1.1.2 容器技术选型Docker VS Cloud Foundry"></a>5.1.1.2 容器技术选型Docker VS Cloud Foundry</h5><h4 id="5-1-2-Docker快速搭建，Docker整体架构解析"><a href="#5-1-2-Docker快速搭建，Docker整体架构解析" class="headerlink" title="5.1.2 Docker快速搭建，Docker整体架构解析"></a>5.1.2 Docker快速搭建，Docker整体架构解析</h4><h5 id="5-1-2-1-容器生命周期管理"><a href="#5-1-2-1-容器生命周期管理" class="headerlink" title="5.1.2.1 容器生命周期管理"></a>5.1.2.1 容器生命周期管理</h5><h5 id="5-1-2-3-Dockerfile实战：如何站在巨人的肩膀上，实现快速部署"><a href="#5-1-2-3-Dockerfile实战：如何站在巨人的肩膀上，实现快速部署" class="headerlink" title="5.1.2.3 Dockerfile实战：如何站在巨人的肩膀上，实现快速部署"></a>5.1.2.3 Dockerfile实战：如何站在巨人的肩膀上，实现快速部署</h5><h4 id="5-1-3-如何实现容器间的网络访问和通信管理"><a href="#5-1-3-如何实现容器间的网络访问和通信管理" class="headerlink" title="5.1.3 如何实现容器间的网络访问和通信管理"></a>5.1.3 如何实现容器间的网络访问和通信管理</h4><h5 id="5-1-3-1-选择最适合你的容器镜像仓库"><a href="#5-1-3-1-选择最适合你的容器镜像仓库" class="headerlink" title="5.1.3.1 选择最适合你的容器镜像仓库"></a>5.1.3.1 选择最适合你的容器镜像仓库</h5><h5 id="5-1-3-2-Docker生态圈：选型和优化"><a href="#5-1-3-2-Docker生态圈：选型和优化" class="headerlink" title="5.1.3.2 Docker生态圈：选型和优化"></a>5.1.3.2 Docker生态圈：选型和优化</h5><h5 id="5-1-3-3-Docker落地实战，部署微服务"><a href="#5-1-3-3-Docker落地实战，部署微服务" class="headerlink" title="5.1.3.3 Docker落地实战，部署微服务"></a>5.1.3.3 Docker落地实战，部署微服务</h5><h3 id="5-2-容器部署Cloud-Foundry"><a href="#5-2-容器部署Cloud-Foundry" class="headerlink" title="5.2 容器部署Cloud Foundry"></a>5.2 容器部署Cloud Foundry</h3><h4 id="5-2-1-Cloud-Foundry整体架构解析"><a href="#5-2-1-Cloud-Foundry整体架构解析" class="headerlink" title="5.2.1 Cloud Foundry整体架构解析"></a>5.2.1 Cloud Foundry整体架构解析</h4><h4 id="5-2-2-Cloud-Foundry环境搭建"><a href="#5-2-2-Cloud-Foundry环境搭建" class="headerlink" title="5.2.2 Cloud Foundry环境搭建"></a>5.2.2 Cloud Foundry环境搭建</h4><h5 id="5-2-2-1-Cloud-Foundry常用命令实战，实现容器生命周期管理"><a href="#5-2-2-1-Cloud-Foundry常用命令实战，实现容器生命周期管理" class="headerlink" title="5.2.2.1 Cloud Foundry常用命令实战，实现容器生命周期管理"></a>5.2.2.1 Cloud Foundry常用命令实战，实现容器生命周期管理</h5><h5 id="5-2-2-2-Cloud-Foundry网络管理-路由和访问控制"><a href="#5-2-2-2-Cloud-Foundry网络管理-路由和访问控制" class="headerlink" title="5.2.2.2 Cloud Foundry网络管理(路由和访问控制)"></a>5.2.2.2 Cloud Foundry网络管理(路由和访问控制)</h5><h5 id="5-2-2-3-基于Cloud-Foundry网络特性实现业务蓝绿发布"><a href="#5-2-2-3-基于Cloud-Foundry网络特性实现业务蓝绿发布" class="headerlink" title="5.2.2.3 基于Cloud Foundry网络特性实现业务蓝绿发布"></a>5.2.2.3 基于Cloud Foundry网络特性实现业务蓝绿发布</h5><h4 id="5-2-3-Cloud-Foundry数据服务管理-关系型数据库-缓存-配置管理"><a href="#5-2-3-Cloud-Foundry数据服务管理-关系型数据库-缓存-配置管理" class="headerlink" title="5.2.3 Cloud Foundry数据服务管理(关系型数据库/缓存/配置管理)"></a>5.2.3 Cloud Foundry数据服务管理(关系型数据库/缓存/配置管理)</h4><h5 id="5-2-3-1-如何实现数据持久层的高可用和业务连续性-架构思考"><a href="#5-2-3-1-如何实现数据持久层的高可用和业务连续性-架构思考" class="headerlink" title="5.2.3.1 如何实现数据持久层的高可用和业务连续性(架构思考)"></a>5.2.3.1 如何实现数据持久层的高可用和业务连续性(架构思考)</h5><h5 id="5-2-3-2-Cloud-Foundry容器应用和PaaS平台双重管理-Ops-amp-Aps-Manager"><a href="#5-2-3-2-Cloud-Foundry容器应用和PaaS平台双重管理-Ops-amp-Aps-Manager" class="headerlink" title="5.2.3.2 Cloud Foundry容器应用和PaaS平台双重管理(Ops &amp; Aps Manager)"></a>5.2.3.2 Cloud Foundry容器应用和PaaS平台双重管理(Ops &amp; Aps Manager)</h5><h5 id="5-2-3-3-Cloud-Foundry混合容器云架构和实践"><a href="#5-2-3-3-Cloud-Foundry混合容器云架构和实践" class="headerlink" title="5.2.3.3 Cloud Foundry混合容器云架构和实践"></a>5.2.3.3 Cloud Foundry混合容器云架构和实践</h5><h5 id="5-2-3-4-Cloud-Foundry落地实战，部署微服务"><a href="#5-2-3-4-Cloud-Foundry落地实战，部署微服务" class="headerlink" title="5.2.3.4 Cloud Foundry落地实战，部署微服务"></a>5.2.3.4 Cloud Foundry落地实战，部署微服务</h5><h3 id="5-3-容器编排—Mesos-Marathon"><a href="#5-3-容器编排—Mesos-Marathon" class="headerlink" title="5.3 容器编排—Mesos+Marathon"></a>5.3 容器编排—Mesos+Marathon</h3><h4 id="5-3-1-Mesos-Marathon整体架构解析"><a href="#5-3-1-Mesos-Marathon整体架构解析" class="headerlink" title="5.3.1 Mesos+Marathon整体架构解析"></a>5.3.1 Mesos+Marathon整体架构解析</h4><h5 id="5-3-1-1-Mesos-Marathon环境搭建和小试牛刀"><a href="#5-3-1-1-Mesos-Marathon环境搭建和小试牛刀" class="headerlink" title="5.3.1.1 Mesos+Marathon环境搭建和小试牛刀"></a>5.3.1.1 Mesos+Marathon环境搭建和小试牛刀</h5><h4 id="5-3-2-Mesos资源管理原理剖析与实战"><a href="#5-3-2-Mesos资源管理原理剖析与实战" class="headerlink" title="5.3.2 Mesos资源管理原理剖析与实战"></a>5.3.2 Mesos资源管理原理剖析与实战</h4><h5 id="5-3-2-1-Mesos实现DCOS多类型负载综合管理"><a href="#5-3-2-1-Mesos实现DCOS多类型负载综合管理" class="headerlink" title="5.3.2.1 Mesos实现DCOS多类型负载综合管理"></a>5.3.2.1 Mesos实现DCOS多类型负载综合管理</h5><h5 id="5-3-2-2-Marathon调度器原理剖析与实战-常驻服务生命周期管理"><a href="#5-3-2-2-Marathon调度器原理剖析与实战-常驻服务生命周期管理" class="headerlink" title="5.3.2.2 Marathon调度器原理剖析与实战(常驻服务生命周期管理)"></a>5.3.2.2 Marathon调度器原理剖析与实战(常驻服务生命周期管理)</h5><h5 id="5-3-2-3-Marathon应用隔离和依赖管理"><a href="#5-3-2-3-Marathon应用隔离和依赖管理" class="headerlink" title="5.3.2.3 Marathon应用隔离和依赖管理"></a>5.3.2.3 Marathon应用隔离和依赖管理</h5><h5 id="5-3-2-4-如何实现无单点、大集群容器编排管理"><a href="#5-3-2-4-如何实现无单点、大集群容器编排管理" class="headerlink" title="5.3.2.4 如何实现无单点、大集群容器编排管理"></a>5.3.2.4 如何实现无单点、大集群容器编排管理</h5><h5 id="5-3-2-5-Mesos-Marathon落地实战，部署微服务"><a href="#5-3-2-5-Mesos-Marathon落地实战，部署微服务" class="headerlink" title="5.3.2.5 Mesos+Marathon落地实战，部署微服务"></a>5.3.2.5 Mesos+Marathon落地实战，部署微服务</h5><h3 id="5-4-容器编排—K8S"><a href="#5-4-容器编排—K8S" class="headerlink" title="5.4 容器编排—K8S"></a>5.4 容器编排—K8S</h3><h4 id="5-4-1-K8S整体架构及常用命令"><a href="#5-4-1-K8S整体架构及常用命令" class="headerlink" title="5.4.1 K8S整体架构及常用命令"></a>5.4.1 K8S整体架构及常用命令</h4><h4 id="5-4-2-K8S调度原理剖析与Pod生命周期管理"><a href="#5-4-2-K8S调度原理剖析与Pod生命周期管理" class="headerlink" title="5.4.2 K8S调度原理剖析与Pod生命周期管理"></a>5.4.2 K8S调度原理剖析与Pod生命周期管理</h4><h5 id="5-4-2-1-K8S控制器管理原理剖析与实战"><a href="#5-4-2-1-K8S控制器管理原理剖析与实战" class="headerlink" title="5.4.2.1 K8S控制器管理原理剖析与实战"></a>5.4.2.1 K8S控制器管理原理剖析与实战</h5><h5 id="5-4-2-2-K8S网络模型和服务访问管理"><a href="#5-4-2-2-K8S网络模型和服务访问管理" class="headerlink" title="5.4.2.2 K8S网络模型和服务访问管理"></a>5.4.2.2 K8S网络模型和服务访问管理</h5><h5 id="5-4-2-3-K8S服务发现与负载均衡原理剖析与实战"><a href="#5-4-2-3-K8S服务发现与负载均衡原理剖析与实战" class="headerlink" title="5.4.2.3 K8S服务发现与负载均衡原理剖析与实战"></a>5.4.2.3 K8S服务发现与负载均衡原理剖析与实战</h5><h5 id="5-4-2-4-K8S系统分层架构和故障排除思路"><a href="#5-4-2-4-K8S系统分层架构和故障排除思路" class="headerlink" title="5.4.2.4 K8S系统分层架构和故障排除思路"></a>5.4.2.4 K8S系统分层架构和故障排除思路</h5><h5 id="5-4-2-5-K8S存储原理实战-数据卷和配置管理"><a href="#5-4-2-5-K8S存储原理实战-数据卷和配置管理" class="headerlink" title="5.4.2.5 K8S存储原理实战(数据卷和配置管理)"></a>5.4.2.5 K8S存储原理实战(数据卷和配置管理)</h5><h5 id="5-4-2-6-K8S认证授权原理剖析与实战-安全框架-RBAC"><a href="#5-4-2-6-K8S认证授权原理剖析与实战-安全框架-RBAC" class="headerlink" title="5.4.2.6 K8S认证授权原理剖析与实战(安全框架/RBAC)"></a>5.4.2.6 K8S认证授权原理剖析与实战(安全框架/RBAC)</h5><h5 id="5-4-2-7-K8S集群监控、快速故障排查和业务连续性保障"><a href="#5-4-2-7-K8S集群监控、快速故障排查和业务连续性保障" class="headerlink" title="5.4.2.7 K8S集群监控、快速故障排查和业务连续性保障"></a>5.4.2.7 K8S集群监控、快速故障排查和业务连续性保障</h5><h4 id="5-4-3-如何实现大规模集群？10节点-gt-100节点-gt-1000节点"><a href="#5-4-3-如何实现大规模集群？10节点-gt-100节点-gt-1000节点" class="headerlink" title="5.4.3 如何实现大规模集群？10节点-&gt;100节点-&gt;1000节点"></a>5.4.3 如何实现大规模集群？10节点-&gt;100节点-&gt;1000节点</h4><h5 id="5-4-3-1-全链路高可用架构升级"><a href="#5-4-3-1-全链路高可用架构升级" class="headerlink" title="5.4.3.1 全链路高可用架构升级"></a>5.4.3.1 全链路高可用架构升级</h5><h5 id="5-4-3-2-知识扩展-如何基于容器编排工具实现CI-CD"><a href="#5-4-3-2-知识扩展-如何基于容器编排工具实现CI-CD" class="headerlink" title="5.4.3.2 知识扩展-如何基于容器编排工具实现CI/CD"></a>5.4.3.2 知识扩展-如何基于容器编排工具实现CI/CD</h5><h5 id="5-4-3-3-K8S落地实战，部署微服务"><a href="#5-4-3-3-K8S落地实战，部署微服务" class="headerlink" title="5.4.3.3 K8S落地实战，部署微服务"></a>5.4.3.3 K8S落地实战，部署微服务</h5><h3 id="5-5-容器弹性扩缩容"><a href="#5-5-容器弹性扩缩容" class="headerlink" title="5.5 容器弹性扩缩容"></a>5.5 容器弹性扩缩容</h3><h4 id="5-5-1-资源管理、属性和配额管理"><a href="#5-5-1-资源管理、属性和配额管理" class="headerlink" title="5.5.1 资源管理、属性和配额管理"></a>5.5.1 资源管理、属性和配额管理</h4><h4 id="5-5-2-有状态应用如何实现弹性伸缩和失效重置"><a href="#5-5-2-有状态应用如何实现弹性伸缩和失效重置" class="headerlink" title="5.5.2 有状态应用如何实现弹性伸缩和失效重置"></a>5.5.2 有状态应用如何实现弹性伸缩和失效重置</h4><h4 id="5-5-3-容器弹性扩缩容实现资源触发、简单决策"><a href="#5-5-3-容器弹性扩缩容实现资源触发、简单决策" class="headerlink" title="5.5.3 容器弹性扩缩容实现资源触发、简单决策"></a>5.5.3 容器弹性扩缩容实现资源触发、简单决策</h4><h5 id="5-5-3-1-容器弹性扩缩容实现负载触发、动态扩缩容"><a href="#5-5-3-1-容器弹性扩缩容实现负载触发、动态扩缩容" class="headerlink" title="5.5.3.1 容器弹性扩缩容实现负载触发、动态扩缩容"></a>5.5.3.1 容器弹性扩缩容实现负载触发、动态扩缩容</h5><h5 id="5-5-3-2-容器弹性扩缩容实现更换轮子、自由扩缩容"><a href="#5-5-3-2-容器弹性扩缩容实现更换轮子、自由扩缩容" class="headerlink" title="5.5.3.2 容器弹性扩缩容实现更换轮子、自由扩缩容"></a>5.5.3.2 容器弹性扩缩容实现更换轮子、自由扩缩容</h5><h2 id="6-网络通信和性能调优"><a href="#6-网络通信和性能调优" class="headerlink" title="6. 网络通信和性能调优"></a>6. 网络通信和性能调优</h2><h3 id="6-1-Netty入门"><a href="#6-1-Netty入门" class="headerlink" title="6.1 Netty入门"></a>6.1 Netty入门</h3><h4 id="6-1-1-TCP通信基础"><a href="#6-1-1-TCP通信基础" class="headerlink" title="6.1.1 TCP通信基础"></a>6.1.1 TCP通信基础</h4><h4 id="6-1-2-架构师视角解读Netty技术选型与核心"><a href="#6-1-2-架构师视角解读Netty技术选型与核心" class="headerlink" title="6.1.2 架构师视角解读Netty技术选型与核心"></a>6.1.2 架构师视角解读Netty技术选型与核心</h4><h4 id="6-1-3-架构拆包粘包-Netty-TCP拆包粘包问题的处理"><a href="#6-1-3-架构拆包粘包-Netty-TCP拆包粘包问题的处理" class="headerlink" title="6.1.3 架构拆包粘包 - Netty TCP拆包粘包问题的处理"></a>6.1.3 架构拆包粘包 - Netty TCP拆包粘包问题的处理</h4><h5 id="6-1-3-1-架构序列化-Netty-序列化实战-Marshalling"><a href="#6-1-3-1-架构序列化-Netty-序列化实战-Marshalling" class="headerlink" title="6.1.3.1 架构序列化- Netty 序列化实战 Marshalling"></a>6.1.3.1 架构序列化- Netty 序列化实战 Marshalling</h5><h5 id="6-1-3-2-架构序列化-Netty-序列化实战-Protobuf"><a href="#6-1-3-2-架构序列化-Netty-序列化实战-Protobuf" class="headerlink" title="6.1.3.2 架构序列化 - Netty 序列化实战 Protobuf"></a>6.1.3.2 架构序列化 - Netty 序列化实战 Protobuf</h5><h5 id="6-1-3-3-架构序列化-Netty自定义协议栈实战"><a href="#6-1-3-3-架构序列化-Netty自定义协议栈实战" class="headerlink" title="6.1.3.3 架构序列化 - Netty自定义协议栈实战"></a>6.1.3.3 架构序列化 - Netty自定义协议栈实战</h5><h5 id="6-1-3-4-Netty-HTTP协议栈"><a href="#6-1-3-4-Netty-HTTP协议栈" class="headerlink" title="6.1.3.4 Netty HTTP协议栈"></a>6.1.3.4 Netty HTTP协议栈</h5><h3 id="6-2-Netty高级"><a href="#6-2-Netty高级" class="headerlink" title="6.2 Netty高级"></a>6.2 Netty高级</h3><h4 id="6-2-1-Netty项目最佳实战-数据可靠性通信场景分析与架构设计"><a href="#6-2-1-Netty项目最佳实战-数据可靠性通信场景分析与架构设计" class="headerlink" title="6.2.1 Netty项目最佳实战- 数据可靠性通信场景分析与架构设计"></a>6.2.1 Netty项目最佳实战- 数据可靠性通信场景分析与架构设计</h4><h4 id="6-2-2-Netty项目最佳实战-数据结构定义与分析（-Spring-与-硬编码方式定义）"><a href="#6-2-2-Netty项目最佳实战-数据结构定义与分析（-Spring-与-硬编码方式定义）" class="headerlink" title="6.2.2 Netty项目最佳实战- 数据结构定义与分析（@Spring 与 硬编码方式定义）"></a>6.2.2 Netty项目最佳实战- 数据结构定义与分析（@Spring 与 硬编码方式定义）</h4><h4 id="6-2-3-Netty项目最佳实战-Server端落地"><a href="#6-2-3-Netty项目最佳实战-Server端落地" class="headerlink" title="6.2.3 Netty项目最佳实战- Server端落地"></a>6.2.3 Netty项目最佳实战- Server端落地</h4><h5 id="6-2-3-1-Netty项目最佳实战-Client端落地"><a href="#6-2-3-1-Netty项目最佳实战-Client端落地" class="headerlink" title="6.2.3.1 Netty项目最佳实战- Client端落地"></a>6.2.3.1 Netty项目最佳实战- Client端落地</h5><h5 id="6-2-3-2-Netty项目最佳实战-关于buffer的资源释放问题详解"><a href="#6-2-3-2-Netty项目最佳实战-关于buffer的资源释放问题详解" class="headerlink" title="6.2.3.2 Netty项目最佳实战- 关于buffer的资源释放问题详解"></a>6.2.3.2 Netty项目最佳实战- 关于buffer的资源释放问题详解</h5><h5 id="6-2-3-3-应用程序优化与测试细节点讲解"><a href="#6-2-3-3-应用程序优化与测试细节点讲解" class="headerlink" title="6.2.3.3 应用程序优化与测试细节点讲解"></a>6.2.3.3 应用程序优化与测试细节点讲解</h5><h3 id="6-3-基于Netty实现RPC框架1"><a href="#6-3-基于Netty实现RPC框架1" class="headerlink" title="6.3 基于Netty实现RPC框架1"></a>6.3 基于Netty实现RPC框架1</h3><h4 id="6-3-1-实现一个最简单的RPC通信框架设计思路"><a href="#6-3-1-实现一个最简单的RPC通信框架设计思路" class="headerlink" title="6.3.1 实现一个最简单的RPC通信框架设计思路"></a>6.3.1 实现一个最简单的RPC通信框架设计思路</h4><h5 id="6-3-1-1-实现一个最简单的RPC通信框架落地"><a href="#6-3-1-1-实现一个最简单的RPC通信框架落地" class="headerlink" title="6.3.1.1 实现一个最简单的RPC通信框架落地"></a>6.3.1.1 实现一个最简单的RPC通信框架落地</h5><h4 id="6-3-2-架构设计与落地-RPC框架整体架构设计思路"><a href="#6-3-2-架构设计与落地-RPC框架整体架构设计思路" class="headerlink" title="6.3.2 架构设计与落地-RPC框架整体架构设计思路"></a>6.3.2 架构设计与落地-RPC框架整体架构设计思路</h4><h5 id="6-3-2-1-架构设计与落地-RPC整体框架API抽象与剥离"><a href="#6-3-2-1-架构设计与落地-RPC整体框架API抽象与剥离" class="headerlink" title="6.3.2.1 架构设计与落地-RPC整体框架API抽象与剥离"></a>6.3.2.1 架构设计与落地-RPC整体框架API抽象与剥离</h5><h5 id="6-3-2-2-架构设计与落地-RPC-Client-客户端落地"><a href="#6-3-2-2-架构设计与落地-RPC-Client-客户端落地" class="headerlink" title="6.3.2.2 架构设计与落地-RPC Client 客户端落地"></a>6.3.2.2 架构设计与落地-RPC Client 客户端落地</h5><h5 id="6-3-2-3-架构设计与落地-RPC-Server-服务端落地"><a href="#6-3-2-3-架构设计与落地-RPC-Server-服务端落地" class="headerlink" title="6.3.2.3 架构设计与落地-RPC Server 服务端落地"></a>6.3.2.3 架构设计与落地-RPC Server 服务端落地</h5><h3 id="6-4-基于Netty实现RPC框架2"><a href="#6-4-基于Netty实现RPC框架2" class="headerlink" title="6.4 基于Netty实现RPC框架2"></a>6.4 基于Netty实现RPC框架2</h3><h4 id="6-4-1-架构设计与落地-RPC-Proxy-代理"><a href="#6-4-1-架构设计与落地-RPC-Proxy-代理" class="headerlink" title="6.4.1 架构设计与落地-RPC Proxy 代理"></a>6.4.1 架构设计与落地-RPC Proxy 代理</h4><h4 id="6-4-2-架构设计与落地-RPC-Codec编解码"><a href="#6-4-2-架构设计与落地-RPC-Codec编解码" class="headerlink" title="6.4.2 架构设计与落地-RPC Codec编解码"></a>6.4.2 架构设计与落地-RPC Codec编解码</h4><h4 id="6-4-3-架构设计与落地-RpcCallback与RpcFuture，AQS实现"><a href="#6-4-3-架构设计与落地-RpcCallback与RpcFuture，AQS实现" class="headerlink" title="6.4.3 架构设计与落地- RpcCallback与RpcFuture，AQS实现"></a>6.4.3 架构设计与落地- RpcCallback与RpcFuture，AQS实现</h4><h5 id="6-4-3-1-架构设计与落地-RPC彩蛋功能点扩展之与Spring整合思路"><a href="#6-4-3-1-架构设计与落地-RPC彩蛋功能点扩展之与Spring整合思路" class="headerlink" title="6.4.3.1 架构设计与落地-RPC彩蛋功能点扩展之与Spring整合思路"></a>6.4.3.1 架构设计与落地-RPC彩蛋功能点扩展之与Spring整合思路</h5><h5 id="6-4-3-2-架构设计与落地-RPC彩蛋功能点扩展之注册中心整合思路"><a href="#6-4-3-2-架构设计与落地-RPC彩蛋功能点扩展之注册中心整合思路" class="headerlink" title="6.4.3.2 架构设计与落地-RPC彩蛋功能点扩展之注册中心整合思路"></a>6.4.3.2 架构设计与落地-RPC彩蛋功能点扩展之注册中心整合思路</h5><h3 id="6-5-应用监控和性能调优之工具"><a href="#6-5-应用监控和性能调优之工具" class="headerlink" title="6.5 应用监控和性能调优之工具"></a>6.5 应用监控和性能调优之工具</h3><h4 id="6-5-1-开源的链路跟踪工具及对比"><a href="#6-5-1-开源的链路跟踪工具及对比" class="headerlink" title="6.5.1 开源的链路跟踪工具及对比"></a>6.5.1 开源的链路跟踪工具及对比</h4><h4 id="6-5-2-Skywalking监控Java应用"><a href="#6-5-2-Skywalking监控Java应用" class="headerlink" title="6.5.2 Skywalking监控Java应用"></a>6.5.2 Skywalking监控Java应用</h4><h5 id="6-5-2-1-Skywalking监控数据库"><a href="#6-5-2-1-Skywalking监控数据库" class="headerlink" title="6.5.2.1 Skywalking监控数据库"></a>6.5.2.1 Skywalking监控数据库</h5><h5 id="6-5-2-2-Skywalking高可用"><a href="#6-5-2-2-Skywalking高可用" class="headerlink" title="6.5.2.2 Skywalking高可用"></a>6.5.2.2 Skywalking高可用</h5><h5 id="6-5-2-3-Skywalking存储"><a href="#6-5-2-3-Skywalking存储" class="headerlink" title="6.5.2.3 Skywalking存储"></a>6.5.2.3 Skywalking存储</h5><h4 id="6-5-3-Spring-Boot-Actuator-生产可用的应用监控工具"><a href="#6-5-3-Spring-Boot-Actuator-生产可用的应用监控工具" class="headerlink" title="6.5.3 Spring Boot Actuator - 生产可用的应用监控工具"></a>6.5.3 Spring Boot Actuator - 生产可用的应用监控工具</h4><h5 id="6-5-3-1-Prometheus-监控工具"><a href="#6-5-3-1-Prometheus-监控工具" class="headerlink" title="6.5.3.1 Prometheus - 监控工具"></a>6.5.3.1 Prometheus - 监控工具</h5><h5 id="6-5-3-2-Grafana-监控-告警工具"><a href="#6-5-3-2-Grafana-监控-告警工具" class="headerlink" title="6.5.3.2 Grafana - 监控 + 告警工具"></a>6.5.3.2 Grafana - 监控 + 告警工具</h5><h5 id="6-5-3-3-Tomcat-Manager-Tomcat监控"><a href="#6-5-3-3-Tomcat-Manager-Tomcat监控" class="headerlink" title="6.5.3.3 Tomcat Manager - Tomcat监控"></a>6.5.3.3 Tomcat Manager - Tomcat监控</h5><h5 id="6-5-3-4-psi-probe-Tomcat监控"><a href="#6-5-3-4-psi-probe-Tomcat监控" class="headerlink" title="6.5.3.4 psi-probe - Tomcat监控"></a>6.5.3.4 psi-probe - Tomcat监控</h5><h5 id="6-5-3-5-日志监控，-慢SQL监控"><a href="#6-5-3-5-日志监控，-慢SQL监控" class="headerlink" title="6.5.3.5 日志监控， 慢SQL监控"></a>6.5.3.5 日志监控， 慢SQL监控</h5><h3 id="6-6-应用监控和性能调优之实战"><a href="#6-6-应用监控和性能调优之实战" class="headerlink" title="6.6 应用监控和性能调优之实战"></a>6.6 应用监控和性能调优之实战</h3><h4 id="6-6-1-应用调优常用技巧1-池化对象，本地异步化（3种方式）"><a href="#6-6-1-应用调优常用技巧1-池化对象，本地异步化（3种方式）" class="headerlink" title="6.6.1 应用调优常用技巧1 - 池化对象，本地异步化（3种方式）"></a>6.6.1 应用调优常用技巧1 - 池化对象，本地异步化（3种方式）</h4><h5 id="6-6-1-1-应用调优常用技巧2-远程调用异步化（3种方式），缓存"><a href="#6-6-1-1-应用调优常用技巧2-远程调用异步化（3种方式），缓存" class="headerlink" title="6.6.1.1 应用调优常用技巧2- 远程调用异步化（3种方式），缓存"></a>6.6.1.1 应用调优常用技巧2- 远程调用异步化（3种方式），缓存</h5><h4 id="6-6-2-并发编程4板斧（线程封闭、降低锁粒度、锁粗化、无锁）"><a href="#6-6-2-并发编程4板斧（线程封闭、降低锁粒度、锁粗化、无锁）" class="headerlink" title="6.6.2 并发编程4板斧（线程封闭、降低锁粒度、锁粗化、无锁）"></a>6.6.2 并发编程4板斧（线程封闭、降低锁粒度、锁粗化、无锁）</h4><h5 id="6-6-2-1-应用调优实战1-定位应用层面性能问题的通用思路与步骤"><a href="#6-6-2-1-应用调优实战1-定位应用层面性能问题的通用思路与步骤" class="headerlink" title="6.6.2.1 应用调优实战1 - 定位应用层面性能问题的通用思路与步骤"></a>6.6.2.1 应用调优实战1 - 定位应用层面性能问题的通用思路与步骤</h5><h5 id="6-6-2-2-应用调优实战2-线程池调优"><a href="#6-6-2-2-应用调优实战2-线程池调优" class="headerlink" title="6.6.2.2 应用调优实战2 - 线程池调优"></a>6.6.2.2 应用调优实战2 - 线程池调优</h5><h4 id="6-6-3-Tomcat调优1-原生Tomcat调优配置属性"><a href="#6-6-3-Tomcat调优1-原生Tomcat调优配置属性" class="headerlink" title="6.6.3 Tomcat调优1 - 原生Tomcat调优配置属性"></a>6.6.3 Tomcat调优1 - 原生Tomcat调优配置属性</h4><h5 id="6-6-3-1-Tomcat调优2-Spring-Boot内嵌式Tomcat调优配置属性"><a href="#6-6-3-1-Tomcat调优2-Spring-Boot内嵌式Tomcat调优配置属性" class="headerlink" title="6.6.3.1 Tomcat调优2 - Spring Boot内嵌式Tomcat调优配置属性"></a>6.6.3.1 Tomcat调优2 - Spring Boot内嵌式Tomcat调优配置属性</h5><h5 id="6-6-3-2-Tomcat调优3-Tomcat调优手把手"><a href="#6-6-3-2-Tomcat调优3-Tomcat调优手把手" class="headerlink" title="6.6.3.2 Tomcat调优3 - Tomcat调优手把手"></a>6.6.3.2 Tomcat调优3 - Tomcat调优手把手</h5><h4 id="6-6-4-应用调优案例实战"><a href="#6-6-4-应用调优案例实战" class="headerlink" title="6.6.4 应用调优案例实战"></a>6.6.4 应用调优案例实战</h4><h3 id="6-7-JVM性能调优之工具"><a href="#6-7-JVM性能调优之工具" class="headerlink" title="6.7 JVM性能调优之工具"></a>6.7 JVM性能调优之工具</h3><h4 id="6-7-1-垃圾回收算法-复制，-标记清除，标记整理"><a href="#6-7-1-垃圾回收算法-复制，-标记清除，标记整理" class="headerlink" title="6.7.1 垃圾回收算法 - 复制， 标记清除，标记整理"></a>6.7.1 垃圾回收算法 - 复制， 标记清除，标记整理</h4><h4 id="6-7-2-垃圾回收器-Serial，Parallel，ParNew，CMS，G1，ZGC"><a href="#6-7-2-垃圾回收器-Serial，Parallel，ParNew，CMS，G1，ZGC" class="headerlink" title="6.7.2 垃圾回收器 - Serial，Parallel，ParNew，CMS，G1，ZGC"></a>6.7.2 垃圾回收器 - Serial，Parallel，ParNew，CMS，G1，ZGC</h4><h5 id="6-7-2-1-垃圾回收器-多款回收器如何配合"><a href="#6-7-2-1-垃圾回收器-多款回收器如何配合" class="headerlink" title="6.7.2.1 垃圾回收器 - 多款回收器如何配合"></a>6.7.2.1 垃圾回收器 - 多款回收器如何配合</h5><h4 id="6-7-3-JVM监控工具-jinfo，-jps，jstat，jstack，jmap"><a href="#6-7-3-JVM监控工具-jinfo，-jps，jstat，jstack，jmap" class="headerlink" title="6.7.3 JVM监控工具 - jinfo， jps，jstat，jstack，jmap"></a>6.7.3 JVM监控工具 - jinfo， jps，jstat，jstack，jmap</h4><h5 id="6-7-3-1-JVM监控工具-jconsole，jvisualvm，jmc，mat"><a href="#6-7-3-1-JVM监控工具-jconsole，jvisualvm，jmc，mat" class="headerlink" title="6.7.3.1 JVM监控工具 - jconsole，jvisualvm，jmc，mat"></a>6.7.3.1 JVM监控工具 - jconsole，jvisualvm，jmc，mat</h5><h5 id="6-7-3-2-GC日志分析工具-GCEasy与GCPlot"><a href="#6-7-3-2-GC日志分析工具-GCEasy与GCPlot" class="headerlink" title="6.7.3.2 GC日志分析工具 - GCEasy与GCPlot"></a>6.7.3.2 GC日志分析工具 - GCEasy与GCPlot</h5><h4 id="6-7-4-线程Dump日志分析工具-FastThread"><a href="#6-7-4-线程Dump日志分析工具-FastThread" class="headerlink" title="6.7.4 线程Dump日志分析工具 - FastThread"></a>6.7.4 线程Dump日志分析工具 - FastThread</h4><h5 id="6-7-4-1-堆Dump日志分析工具-HeapHero"><a href="#6-7-4-1-堆Dump日志分析工具-HeapHero" class="headerlink" title="6.7.4.1 堆Dump日志分析工具 - HeapHero"></a>6.7.4.1 堆Dump日志分析工具 - HeapHero</h5><h5 id="6-7-4-2-常用JVM调优参数详解"><a href="#6-7-4-2-常用JVM调优参数详解" class="headerlink" title="6.7.4.2 常用JVM调优参数详解"></a>6.7.4.2 常用JVM调优参数详解</h5><h3 id="6-8-JVM性能调优之实战"><a href="#6-8-JVM性能调优之实战" class="headerlink" title="6.8 JVM性能调优之实战"></a>6.8 JVM性能调优之实战</h3><h4 id="6-8-1-调优实战1-如何确定最小堆内存？"><a href="#6-8-1-调优实战1-如何确定最小堆内存？" class="headerlink" title="6.8.1 调优实战1 - 如何确定最小堆内存？"></a>6.8.1 调优实战1 - 如何确定最小堆内存？</h4><h5 id="6-8-1-1-调优实战2-如何确定最大堆内存？"><a href="#6-8-1-1-调优实战2-如何确定最大堆内存？" class="headerlink" title="6.8.1.1 调优实战2 - 如何确定最大堆内存？"></a>6.8.1.1 调优实战2 - 如何确定最大堆内存？</h5><h4 id="6-8-2-调优实战3-死锁分析"><a href="#6-8-2-调优实战3-死锁分析" class="headerlink" title="6.8.2 调优实战3 - 死锁分析"></a>6.8.2 调优实战3 - 死锁分析</h4><h4 id="6-8-3-调优实战4-内存溢出问题解决方案（堆内存、Metadataspace区）"><a href="#6-8-3-调优实战4-内存溢出问题解决方案（堆内存、Metadataspace区）" class="headerlink" title="6.8.3 调优实战4 - 内存溢出问题解决方案（堆内存、Metadataspace区）"></a>6.8.3 调优实战4 - 内存溢出问题解决方案（堆内存、Metadataspace区）</h4><h5 id="6-8-3-1-调优实战4-内存溢出问题解决方案（栈溢出、直接内存溢出等）"><a href="#6-8-3-1-调优实战4-内存溢出问题解决方案（栈溢出、直接内存溢出等）" class="headerlink" title="6.8.3.1 调优实战4 - 内存溢出问题解决方案（栈溢出、直接内存溢出等）"></a>6.8.3.1 调优实战4 - 内存溢出问题解决方案（栈溢出、直接内存溢出等）</h5><h5 id="6-8-3-2-调优实战5-垃圾回收器调优（吞吐量、STW权衡）"><a href="#6-8-3-2-调优实战5-垃圾回收器调优（吞吐量、STW权衡）" class="headerlink" title="6.8.3.2 调优实战5 - 垃圾回收器调优（吞吐量、STW权衡）"></a>6.8.3.2 调优实战5 - 垃圾回收器调优（吞吐量、STW权衡）</h5><h5 id="6-8-3-3-调优实战6-栈上分配、偏向锁等对系统调优的影响"><a href="#6-8-3-3-调优实战6-栈上分配、偏向锁等对系统调优的影响" class="headerlink" title="6.8.3.3 调优实战6 - 栈上分配、偏向锁等对系统调优的影响"></a>6.8.3.3 调优实战6 - 栈上分配、偏向锁等对系统调优的影响</h5><h5 id="6-8-3-5-调优实战7-升级JDK对系统优化的影响"><a href="#6-8-3-5-调优实战7-升级JDK对系统优化的影响" class="headerlink" title="6.8.3.5 调优实战7 - 升级JDK对系统优化的影响"></a>6.8.3.5 调优实战7 - 升级JDK对系统优化的影响</h5><h4 id="6-8-4-调优实战8-young-GC频繁-Full-GC频繁"><a href="#6-8-4-调优实战8-young-GC频繁-Full-GC频繁" class="headerlink" title="6.8.4 调优实战8 - young GC频繁/Full GC频繁"></a>6.8.4 调优实战8 - young GC频繁/Full GC频繁</h4><h5 id="6-8-4-1-调优实战9-应用CPU占用过高问题分析"><a href="#6-8-4-1-调优实战9-应用CPU占用过高问题分析" class="headerlink" title="6.8.4.1 调优实战9 - 应用CPU占用过高问题分析"></a>6.8.4.1 调优实战9 - 应用CPU占用过高问题分析</h5><h5 id="6-8-4-2-调优实战10-应用无端变得奇慢，而且越来越慢"><a href="#6-8-4-2-调优实战10-应用无端变得奇慢，而且越来越慢" class="headerlink" title="6.8.4.2 调优实战10 - 应用无端变得奇慢，而且越来越慢"></a>6.8.4.2 调优实战10 - 应用无端变得奇慢，而且越来越慢</h5><h3 id="6-9-数据库监控与调优"><a href="#6-9-数据库监控与调优" class="headerlink" title="6.9 数据库监控与调优"></a>6.9 数据库监控与调优</h3><h4 id="6-9-1-数据库监控-Prometheus"><a href="#6-9-1-数据库监控-Prometheus" class="headerlink" title="6.9.1 数据库监控 - Prometheus"></a>6.9.1 数据库监控 - Prometheus</h4><h4 id="6-9-2-慢查询日志"><a href="#6-9-2-慢查询日志" class="headerlink" title="6.9.2 慢查询日志"></a>6.9.2 慢查询日志</h4><h4 id="6-9-3-优化手段"><a href="#6-9-3-优化手段" class="headerlink" title="6.9.3 优化手段"></a>6.9.3 优化手段</h4><h5 id="6-9-3-1-索引分析与优化"><a href="#6-9-3-1-索引分析与优化" class="headerlink" title="6.9.3.1 索引分析与优化"></a>6.9.3.1 索引分析与优化</h5><h5 id="6-9-3-2-锁优化，Query-Profiler"><a href="#6-9-3-2-锁优化，Query-Profiler" class="headerlink" title="6.9.3.2 锁优化，Query Profiler"></a>6.9.3.2 锁优化，Query Profiler</h5><h5 id="6-9-3-3-SQL优化工具"><a href="#6-9-3-3-SQL优化工具" class="headerlink" title="6.9.3.3 SQL优化工具"></a>6.9.3.3 SQL优化工具</h5><h5 id="6-9-3-4-MySQL配置优化"><a href="#6-9-3-4-MySQL配置优化" class="headerlink" title="6.9.3.4 MySQL配置优化"></a>6.9.3.4 MySQL配置优化</h5><h4 id="6-9-4-拓展分享"><a href="#6-9-4-拓展分享" class="headerlink" title="6.9.4 拓展分享"></a>6.9.4 拓展分享</h4><h5 id="6-9-4-1-拓展分享：如何在合适的场景用合适的数据库？"><a href="#6-9-4-1-拓展分享：如何在合适的场景用合适的数据库？" class="headerlink" title="6.9.4.1 拓展分享：如何在合适的场景用合适的数据库？"></a>6.9.4.1 拓展分享：如何在合适的场景用合适的数据库？</h5><h5 id="6-9-4-2-拓展分享：业务妥协会对系统调优造成怎样的影响？"><a href="#6-9-4-2-拓展分享：业务妥协会对系统调优造成怎样的影响？" class="headerlink" title="6.9.4.2 拓展分享：业务妥协会对系统调优造成怎样的影响？"></a>6.9.4.2 拓展分享：业务妥协会对系统调优造成怎样的影响？</h5><h3 id="6-10-Linux调优和架构调优"><a href="#6-10-Linux调优和架构调优" class="headerlink" title="6.10 Linux调优和架构调优"></a>6.10 Linux调优和架构调优</h3><h4 id="6-10-1-Linux常用监控调优命令"><a href="#6-10-1-Linux常用监控调优命令" class="headerlink" title="6.10.1 Linux常用监控调优命令"></a>6.10.1 Linux常用监控调优命令</h4><h4 id="6-10-2-Linux监控可视化"><a href="#6-10-2-Linux监控可视化" class="headerlink" title="6.10.2 Linux监控可视化"></a>6.10.2 Linux监控可视化</h4><h4 id="6-10-3-传统架构存在的问题"><a href="#6-10-3-传统架构存在的问题" class="headerlink" title="6.10.3 传统架构存在的问题"></a>6.10.3 传统架构存在的问题</h4><h4 id="6-10-4-去中心化：微服务，无状态-vs-有状态"><a href="#6-10-4-去中心化：微服务，无状态-vs-有状态" class="headerlink" title="6.10.4 去中心化：微服务，无状态 vs 有状态"></a>6.10.4 去中心化：微服务，无状态 vs 有状态</h4><h4 id="6-10-5-拓展分享：技术方案对业务优化的影响"><a href="#6-10-5-拓展分享：技术方案对业务优化的影响" class="headerlink" title="6.10.5 拓展分享：技术方案对业务优化的影响"></a>6.10.5 拓展分享：技术方案对业务优化的影响</h4>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">mjh</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://codeOfMjh.github.com/2020/11/29/7-examproject/">https://codeOfMjh.github.com/2020/11/29/7-examproject/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">mjh</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2020/11/29/7-examproject/">
                    <div class="card-image">
                        
                        
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/medias/featureimages/5.jpg" class="responsive-img" alt="7.examProject">
                        
                        <span class="card-title">7.examProject</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            慕课Java笔记
笔记架构图



1. 单体项目开发部署1.1 项目基础搭建1.1.1 大型互联网系统架构演变历程1.1.2 大型网站的九大特点
高并发 
高可用 
大数据 
迭代周期短 
用户量庞大 
可持续发展 
安全级别高 
可弹性
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-29
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" class="post-category">
                                    项目笔记
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/21/6-linux/">
                    <div class="card-image">
                        
                        
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/medias/featureimages/4.jpg" class="responsive-img" alt="6.linux">
                        
                        <span class="card-title">6.linux</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%B7%A5%E5%85%B7/" class="post-category">
                                    工具
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">mjh</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            <!-- span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span -->
            
            
            <!-- span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span -->
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:mjhcode@aliyun.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

	<!--��̬��������-->
	<!--<script type="text/javascript"
		color="122 103 238" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
	</script>-->
	
	<!-- ӣ��Ʈ�� -->
	<!--
	
	-->
	
	<!-- ѩ����Ʈ�� -->
	<!--
		<script type="text/javascript">
		//ֻ���������ҳ������Ч
		var windowWidth = $(window).width();
		if (windowWidth > 768) {
			document.write('<script type="text/javascript" src="/js/snow.js"></script>');
		}
		</script>
	-->
	<!--<script src="/js/snow.js"></script>-->
	
	<!-- ������� -->
	<!--
		<script type="text/javascript">
			//ֻ���������ҳ������Ч
			var windowWidth = $(window).width();
			if (windowWidth > 768) {
				document.write('<script type="text/javascript" src="https://apip.weatherdt.com/v2/h5.html?bg=1&md=02345&lc=accu&key=MLB1osjDcR"><\/script>');
			}
		</script>
	-->
<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>

</html>
